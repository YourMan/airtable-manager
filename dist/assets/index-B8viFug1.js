(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Lp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vd={exports:{}},Or={},Gd={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),Up=Symbol.for("react.portal"),Fp=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),$p=Symbol.for("react.memo"),Jp=Symbol.for("react.lazy"),jl=Symbol.iterator;function Wp(n){return n===null||typeof n!="object"?null:(n=jl&&n[jl]||n["@@iterator"],typeof n=="function"?n:null)}var Hd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qd=Object.assign,Bd={};function Bt(n,e,t){this.props=n,this.context=e,this.refs=Bd,this.updater=t||Hd}Bt.prototype.isReactComponent={};Bt.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Bt.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function $d(){}$d.prototype=Bt.prototype;function Ys(n,e,t){this.props=n,this.context=e,this.refs=Bd,this.updater=t||Hd}var Os=Ys.prototype=new $d;Os.constructor=Ys;qd(Os,Bt.prototype);Os.isPureReactComponent=!0;var ea=Array.isArray,Jd=Object.prototype.hasOwnProperty,Qs={current:null},Wd={key:!0,ref:!0,__self:!0,__source:!0};function bd(n,e,t){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Jd.call(e,o)&&!Wd.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];r.children=d}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:zo,type:n,key:i,ref:l,props:r,_owner:Qs.current}}function bp(n,e){return{$$typeof:zo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Xs(n){return typeof n=="object"&&n!==null&&n.$$typeof===zo}function Kp(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var na=/\/+/g;function gi(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Kp(""+n.key):e.toString(36)}function lr(n,e,t,o,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case zo:case Up:l=!0}}if(l)return l=n,r=r(l),n=o===""?"."+gi(l,0):o,ea(r)?(t="",n!=null&&(t=n.replace(na,"$&/")+"/"),lr(r,e,t,"",function(c){return c})):r!=null&&(Xs(r)&&(r=bp(r,t+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(na,"$&/")+"/")+n)),e.push(r)),1;if(l=0,o=o===""?".":o+":",ea(n))for(var u=0;u<n.length;u++){i=n[u];var d=o+gi(i,u);l+=lr(i,e,t,d,r)}else if(d=Wp(n),typeof d=="function")for(n=d.call(n),u=0;!(i=n.next()).done;)i=i.value,d=o+gi(i,u++),l+=lr(i,e,t,d,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Bo(n,e,t){if(n==null)return n;var o=[],r=0;return lr(n,o,"","",function(i){return e.call(t,i,r++)}),o}function Yp(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ie={current:null},ar={transition:null},Op={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ar,ReactCurrentOwner:Qs};function Kd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Bo,forEach:function(n,e,t){Bo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bo(n,function(){e++}),e},toArray:function(n){return Bo(n,function(e){return e})||[]},only:function(n){if(!Xs(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};G.Component=Bt;G.Fragment=Fp;G.Profiler=Vp;G.PureComponent=Ys;G.StrictMode=zp;G.Suspense=Bp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op;G.act=Kd;G.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=qd({},n.props),r=n.key,i=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Qs.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(d in e)Jd.call(e,d)&&!Wd.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=t;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:zo,type:n.type,key:r,ref:i,props:o,_owner:l}};G.createContext=function(n){return n={$$typeof:Hp,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Gp,_context:n},n.Consumer=n};G.createElement=bd;G.createFactory=function(n){var e=bd.bind(null,n);return e.type=n,e};G.createRef=function(){return{current:null}};G.forwardRef=function(n){return{$$typeof:qp,render:n}};G.isValidElement=Xs;G.lazy=function(n){return{$$typeof:Jp,_payload:{_status:-1,_result:n},_init:Yp}};G.memo=function(n,e){return{$$typeof:$p,type:n,compare:e===void 0?null:e}};G.startTransition=function(n){var e=ar.transition;ar.transition={};try{n()}finally{ar.transition=e}};G.unstable_act=Kd;G.useCallback=function(n,e){return Ie.current.useCallback(n,e)};G.useContext=function(n){return Ie.current.useContext(n)};G.useDebugValue=function(){};G.useDeferredValue=function(n){return Ie.current.useDeferredValue(n)};G.useEffect=function(n,e){return Ie.current.useEffect(n,e)};G.useId=function(){return Ie.current.useId()};G.useImperativeHandle=function(n,e,t){return Ie.current.useImperativeHandle(n,e,t)};G.useInsertionEffect=function(n,e){return Ie.current.useInsertionEffect(n,e)};G.useLayoutEffect=function(n,e){return Ie.current.useLayoutEffect(n,e)};G.useMemo=function(n,e){return Ie.current.useMemo(n,e)};G.useReducer=function(n,e,t){return Ie.current.useReducer(n,e,t)};G.useRef=function(n){return Ie.current.useRef(n)};G.useState=function(n){return Ie.current.useState(n)};G.useSyncExternalStore=function(n,e,t){return Ie.current.useSyncExternalStore(n,e,t)};G.useTransition=function(){return Ie.current.useTransition()};G.version="18.3.1";Gd.exports=G;var q=Gd.exports;const Qp=Lp(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=q,Zp=Symbol.for("react.element"),jp=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,nm=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function Yd(n,e,t){var o,r={},i=null,l=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)em.call(e,o)&&!tm.hasOwnProperty(o)&&(r[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:Zp,type:n,key:i,ref:l,props:r,_owner:nm.current}}Or.Fragment=jp;Or.jsx=Yd;Or.jsxs=Yd;Vd.exports=Or;var h=Vd.exports,Ji={},Od={exports:{}},ze={},Qd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,F){var z=D.length;D.push(F);e:for(;0<z;){var X=z-1>>>1,se=D[X];if(0<r(se,F))D[X]=F,D[z]=se,z=X;else break e}}function t(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var F=D[0],z=D.pop();if(z!==F){D[0]=z;e:for(var X=0,se=D.length,dt=se>>>1;X<dt;){var un=2*(X+1)-1,Yt=D[un],dn=un+1,Kn=D[dn];if(0>r(Yt,z))dn<se&&0>r(Kn,Yt)?(D[X]=Kn,D[dn]=z,X=dn):(D[X]=Yt,D[un]=z,X=un);else if(dn<se&&0>r(Kn,z))D[X]=Kn,D[dn]=z,X=dn;else break e}}return F}function r(D,F){var z=D.sortIndex-F.sortIndex;return z!==0?z:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,m=null,p=3,y=!1,T=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var F=t(c);F!==null;){if(F.callback===null)o(c);else if(F.startTime<=D)o(c),F.sortIndex=F.expirationTime,e(d,F);else break;F=t(c)}}function C(D){if(E=!1,_(D),!T)if(t(d)!==null)T=!0,he(w);else{var F=t(c);F!==null&&ae(C,F.startTime-D)}}function w(D,F){T=!1,E&&(E=!1,v(N),N=-1),y=!0;var z=p;try{for(_(F),m=t(d);m!==null&&(!(m.expirationTime>F)||D&&!$());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var se=X(m.expirationTime<=F);F=n.unstable_now(),typeof se=="function"?m.callback=se:m===t(d)&&o(d),_(F)}else o(d);m=t(d)}if(m!==null)var dt=!0;else{var un=t(c);un!==null&&ae(C,un.startTime-F),dt=!1}return dt}finally{m=null,p=z,y=!1}}var I=!1,x=null,N=-1,R=5,M=-1;function $(){return!(n.unstable_now()-M<R)}function W(){if(x!==null){var D=n.unstable_now();M=D;var F=!0;try{F=x(!0,D)}finally{F?ie():(I=!1,x=null)}}else I=!1}var ie;if(typeof g=="function")ie=function(){g(W)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,an=bn.port2;bn.port1.onmessage=W,ie=function(){an.postMessage(null)}}else ie=function(){k(W,0)};function he(D){x=D,I||(I=!0,ie())}function ae(D,F){N=k(function(){D(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){T||y||(T=!0,he(w))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var z=p;p=F;try{return D()}finally{p=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=p;p=D;try{return F()}finally{p=z}},n.unstable_scheduleCallback=function(D,F,z){var X=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,D){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=z+se,D={id:f++,callback:F,priorityLevel:D,startTime:z,expirationTime:se,sortIndex:-1},z>X?(D.sortIndex=z,e(c,D),t(d)===null&&D===t(c)&&(E?(v(N),N=-1):E=!0,ae(C,z-X))):(D.sortIndex=se,e(d,D),T||y||(T=!0,he(w))),D},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(D){var F=p;return function(){var z=p;p=F;try{return D.apply(this,arguments)}finally{p=z}}}})(Xd);Qd.exports=Xd;var om=Qd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=q,Fe=om;function A(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zd=new Set,Eo={};function lt(n,e){Ut(n,e),Ut(n+"Capture",e)}function Ut(n,e){for(Eo[n]=e,n=0;n<e.length;n++)Zd.add(e[n])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=Object.prototype.hasOwnProperty,im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ta={},oa={};function sm(n){return Wi.call(oa,n)?!0:Wi.call(ta,n)?!1:im.test(n)?oa[n]=!0:(ta[n]=!0,!1)}function lm(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function am(n,e,t,o){if(e===null||typeof e>"u"||lm(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(n,e,t,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ve[n]=new Ae(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ve[e]=new Ae(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ve[n]=new Ae(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ve[n]=new Ae(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ve[n]=new Ae(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ve[n]=new Ae(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ve[n]=new Ae(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ve[n]=new Ae(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ve[n]=new Ae(n,5,!1,n.toLowerCase(),null,!1,!1)});var Zs=/[\-:]([a-z])/g;function js(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Zs,js);ve[e]=new Ae(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Zs,js);ve[e]=new Ae(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Zs,js);ve[e]=new Ae(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ve[n]=new Ae(n,1,!1,n.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ve[n]=new Ae(n,1,!1,n.toLowerCase(),null,!0,!0)});function el(n,e,t,o){var r=ve.hasOwnProperty(e)?ve[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(am(e,t,r,o)&&(t=null),o||r===null?sm(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,o=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var Tn=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),pt=Symbol.for("react.portal"),mt=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),bi=Symbol.for("react.profiler"),jd=Symbol.for("react.provider"),ec=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Ki=Symbol.for("react.suspense"),Yi=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),nc=Symbol.for("react.offscreen"),ra=Symbol.iterator;function Ot(n){return n===null||typeof n!="object"?null:(n=ra&&n[ra]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,yi;function io(n){if(yi===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);yi=e&&e[1]||""}return`
`+yi+n}var vi=!1;function _i(n,e){if(!n||vi)return"";vi=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){o=c}n.call(e.prototype)}else{try{throw Error()}catch(c){o=c}n()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var d=`
`+r[l].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=l&&0<=u);break}}}finally{vi=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?io(n):""}function um(n){switch(n.tag){case 5:return io(n.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return n=_i(n.type,!1),n;case 11:return n=_i(n.type.render,!1),n;case 1:return n=_i(n.type,!0),n;default:return""}}function Oi(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case mt:return"Fragment";case pt:return"Portal";case bi:return"Profiler";case nl:return"StrictMode";case Ki:return"Suspense";case Yi:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ec:return(n.displayName||"Context")+".Consumer";case jd:return(n._context.displayName||"Context")+".Provider";case tl:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ol:return e=n.displayName||null,e!==null?e:Oi(n.type)||"Memo";case wn:e=n._payload,n=n._init;try{return Oi(n(e))}catch{}}return null}function dm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oi(e);case 8:return e===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tc(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cm(n){var e=tc(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Jo(n){n._valueTracker||(n._valueTracker=cm(n))}function oc(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=tc(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Tr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Qi(n,e){var t=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ia(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=Hn(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rc(n,e){e=e.checked,e!=null&&el(n,"checked",e,!1)}function Xi(n,e){rc(n,e);var t=Hn(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Zi(n,e.type,t):e.hasOwnProperty("defaultValue")&&Zi(n,e.type,Hn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function sa(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Zi(n,e,t){(e!=="number"||Tr(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var so=Array.isArray;function It(n,e,t,o){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&o&&(n[t].defaultSelected=!0)}else{for(t=""+Hn(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,o&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function ji(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function la(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(A(92));if(so(t)){if(1<t.length)throw Error(A(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hn(t)}}function ic(n,e){var t=Hn(e.value),o=Hn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function aa(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function sc(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function es(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?sc(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Wo,lc=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function To(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fm=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(n){fm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),uo[e]=uo[n]})});function ac(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||uo.hasOwnProperty(n)&&uo[n]?(""+e).trim():e+"px"}function uc(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=ac(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,r):n[t]=r}}var pm=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ns(n,e){if(e){if(pm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function ts(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function rl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rs=null,At=null,kt=null;function ua(n){if(n=Ho(n)){if(typeof rs!="function")throw Error(A(280));var e=n.stateNode;e&&(e=ei(e),rs(n.stateNode,n.type,e))}}function dc(n){At?kt?kt.push(n):kt=[n]:At=n}function cc(){if(At){var n=At,e=kt;if(kt=At=null,ua(n),e)for(n=0;n<e.length;n++)ua(e[n])}}function fc(n,e){return n(e)}function pc(){}var Ei=!1;function mc(n,e,t){if(Ei)return n(e,t);Ei=!0;try{return fc(n,e,t)}finally{Ei=!1,(At!==null||kt!==null)&&(pc(),cc())}}function Co(n,e){var t=n.stateNode;if(t===null)return null;var o=ei(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(A(231,e,typeof t));return t}var is=!1;if(gn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){is=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{is=!1}function mm(n,e,t,o,r,i,l,u,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var co=!1,Cr=null,Sr=!1,ss=null,hm={onError:function(n){co=!0,Cr=n}};function gm(n,e,t,o,r,i,l,u,d){co=!1,Cr=null,mm.apply(hm,arguments)}function ym(n,e,t,o,r,i,l,u,d){if(gm.apply(this,arguments),co){if(co){var c=Cr;co=!1,Cr=null}else throw Error(A(198));Sr||(Sr=!0,ss=c)}}function at(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function hc(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function da(n){if(at(n)!==n)throw Error(A(188))}function vm(n){var e=n.alternate;if(!e){if(e=at(n),e===null)throw Error(A(188));return e!==n?null:n}for(var t=n,o=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return da(r),n;if(i===o)return da(r),e;i=i.sibling}throw Error(A(188))}if(t.return!==o.return)t=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===t){l=!0,t=r,o=i;break}if(u===o){l=!0,o=r,t=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===t){l=!0,t=i,o=r;break}if(u===o){l=!0,o=i,t=r;break}u=u.sibling}if(!l)throw Error(A(189))}}if(t.alternate!==o)throw Error(A(190))}if(t.tag!==3)throw Error(A(188));return t.stateNode.current===t?n:e}function gc(n){return n=vm(n),n!==null?yc(n):null}function yc(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=yc(n);if(e!==null)return e;n=n.sibling}return null}var vc=Fe.unstable_scheduleCallback,ca=Fe.unstable_cancelCallback,_m=Fe.unstable_shouldYield,Em=Fe.unstable_requestPaint,le=Fe.unstable_now,Tm=Fe.unstable_getCurrentPriorityLevel,il=Fe.unstable_ImmediatePriority,_c=Fe.unstable_UserBlockingPriority,xr=Fe.unstable_NormalPriority,Cm=Fe.unstable_LowPriority,Ec=Fe.unstable_IdlePriority,Qr=null,sn=null;function Sm(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Qr,n,void 0,(n.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Im,xm=Math.log,wm=Math.LN2;function Im(n){return n>>>=0,n===0?32:31-(xm(n)/wm|0)|0}var bo=64,Ko=4194304;function lo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wr(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,r=n.suspendedLanes,i=n.pingedLanes,l=t&268435455;if(l!==0){var u=l&~r;u!==0?o=lo(u):(i&=l,i!==0&&(o=lo(i)))}else l=t&~r,l!==0?o=lo(l):i!==0&&(o=lo(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-Xe(e),r=1<<t,o|=n[t],e&=~r;return o}function Am(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var l=31-Xe(i),u=1<<l,d=r[l];d===-1?(!(u&t)||u&o)&&(r[l]=Am(u,e)):d<=e&&(n.expiredLanes|=u),i&=~u}}function ls(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Tc(){var n=bo;return bo<<=1,!(bo&4194240)&&(bo=64),n}function Ti(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Vo(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xe(e),n[e]=t}function Nm(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Xe(t),i=1<<r;e[r]=0,o[r]=-1,n[r]=-1,t&=~i}}function sl(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-Xe(t),r=1<<o;r&e|n[o]&e&&(n[o]|=e),t&=~r}}var b=0;function Cc(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Sc,ll,xc,wc,Ic,as=!1,Yo=[],Mn=null,Dn=null,Ln=null,So=new Map,xo=new Map,An=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fa(n,e){switch(n){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":So.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(e.pointerId)}}function Xt(n,e,t,o,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ho(e),e!==null&&ll(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Rm(n,e,t,o,r){switch(e){case"focusin":return Mn=Xt(Mn,n,e,t,o,r),!0;case"dragenter":return Dn=Xt(Dn,n,e,t,o,r),!0;case"mouseover":return Ln=Xt(Ln,n,e,t,o,r),!0;case"pointerover":var i=r.pointerId;return So.set(i,Xt(So.get(i)||null,n,e,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,xo.set(i,Xt(xo.get(i)||null,n,e,t,o,r)),!0}return!1}function Ac(n){var e=Qn(n.target);if(e!==null){var t=at(e);if(t!==null){if(e=t.tag,e===13){if(e=hc(t),e!==null){n.blockedOn=e,Ic(n.priority,function(){xc(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ur(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=us(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);os=o,t.target.dispatchEvent(o),os=null}else return e=Ho(t),e!==null&&ll(e),n.blockedOn=t,!1;e.shift()}return!0}function pa(n,e,t){ur(n)&&t.delete(e)}function Mm(){as=!1,Mn!==null&&ur(Mn)&&(Mn=null),Dn!==null&&ur(Dn)&&(Dn=null),Ln!==null&&ur(Ln)&&(Ln=null),So.forEach(pa),xo.forEach(pa)}function Zt(n,e){n.blockedOn===e&&(n.blockedOn=null,as||(as=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Mm)))}function wo(n){function e(r){return Zt(r,n)}if(0<Yo.length){Zt(Yo[0],n);for(var t=1;t<Yo.length;t++){var o=Yo[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Mn!==null&&Zt(Mn,n),Dn!==null&&Zt(Dn,n),Ln!==null&&Zt(Ln,n),So.forEach(e),xo.forEach(e),t=0;t<An.length;t++)o=An[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<An.length&&(t=An[0],t.blockedOn===null);)Ac(t),t.blockedOn===null&&An.shift()}var Nt=Tn.ReactCurrentBatchConfig,Ir=!0;function Dm(n,e,t,o){var r=b,i=Nt.transition;Nt.transition=null;try{b=1,al(n,e,t,o)}finally{b=r,Nt.transition=i}}function Lm(n,e,t,o){var r=b,i=Nt.transition;Nt.transition=null;try{b=4,al(n,e,t,o)}finally{b=r,Nt.transition=i}}function al(n,e,t,o){if(Ir){var r=us(n,e,t,o);if(r===null)Ri(n,e,o,Ar,t),fa(n,o);else if(Rm(r,n,e,t,o))o.stopPropagation();else if(fa(n,o),e&4&&-1<Pm.indexOf(n)){for(;r!==null;){var i=Ho(r);if(i!==null&&Sc(i),i=us(n,e,t,o),i===null&&Ri(n,e,o,Ar,t),i===r)break;r=i}r!==null&&o.stopPropagation()}else Ri(n,e,o,null,t)}}var Ar=null;function us(n,e,t,o){if(Ar=null,n=rl(o),n=Qn(n),n!==null)if(e=at(n),e===null)n=null;else if(t=e.tag,t===13){if(n=hc(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ar=n,null}function kc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tm()){case il:return 1;case _c:return 4;case xr:case Cm:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var Nn=null,ul=null,dr=null;function Nc(){if(dr)return dr;var n,e=ul,t=e.length,o,r="value"in Nn?Nn.value:Nn.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var l=t-n;for(o=1;o<=l&&e[t-o]===r[i-o];o++);return dr=r.slice(n,1<o?1-o:void 0)}function cr(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Oo(){return!0}function ma(){return!1}function Ve(n){function e(t,o,r,i,l){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oo:ma,this.isPropagationStopped=ma,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),e}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=Ve($t),Go=ne({},$t,{view:0,detail:0}),Um=Ve(Go),Ci,Si,jt,Xr=ne({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jt&&(jt&&n.type==="mousemove"?(Ci=n.screenX-jt.screenX,Si=n.screenY-jt.screenY):Si=Ci=0,jt=n),Ci)},movementY:function(n){return"movementY"in n?n.movementY:Si}}),ha=Ve(Xr),Fm=ne({},Xr,{dataTransfer:0}),zm=Ve(Fm),Vm=ne({},Go,{relatedTarget:0}),xi=Ve(Vm),Gm=ne({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=Ve(Gm),qm=ne({},$t,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bm=Ve(qm),$m=ne({},$t,{data:0}),ga=Ve($m),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=bm[n])?!!e[n]:!1}function cl(){return Km}var Ym=ne({},Go,{key:function(n){if(n.key){var e=Jm[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=cr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Wm[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(n){return n.type==="keypress"?cr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Om=Ve(Ym),Qm=ne({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ya=Ve(Qm),Xm=ne({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),Zm=Ve(Xm),jm=ne({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=Ve(jm),nh=ne({},Xr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),th=Ve(nh),oh=[9,13,27,32],fl=gn&&"CompositionEvent"in window,fo=null;gn&&"documentMode"in document&&(fo=document.documentMode);var rh=gn&&"TextEvent"in window&&!fo,Pc=gn&&(!fl||fo&&8<fo&&11>=fo),va=" ",_a=!1;function Rc(n,e){switch(n){case"keyup":return oh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ht=!1;function ih(n,e){switch(n){case"compositionend":return Mc(e);case"keypress":return e.which!==32?null:(_a=!0,va);case"textInput":return n=e.data,n===va&&_a?null:n;default:return null}}function sh(n,e){if(ht)return n==="compositionend"||!fl&&Rc(n,e)?(n=Nc(),dr=ul=Nn=null,ht=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pc&&e.locale!=="ko"?null:e.data;default:return null}}var lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!lh[n.type]:e==="textarea"}function Dc(n,e,t,o){dc(o),e=kr(e,"onChange"),0<e.length&&(t=new dl("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var po=null,Io=null;function ah(n){Jc(n,0)}function Zr(n){var e=vt(n);if(oc(e))return n}function uh(n,e){if(n==="change")return e}var Lc=!1;if(gn){var wi;if(gn){var Ii="oninput"in document;if(!Ii){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),Ii=typeof Ta.oninput=="function"}wi=Ii}else wi=!1;Lc=wi&&(!document.documentMode||9<document.documentMode)}function Ca(){po&&(po.detachEvent("onpropertychange",Uc),Io=po=null)}function Uc(n){if(n.propertyName==="value"&&Zr(Io)){var e=[];Dc(e,Io,n,rl(n)),mc(ah,e)}}function dh(n,e,t){n==="focusin"?(Ca(),po=e,Io=t,po.attachEvent("onpropertychange",Uc)):n==="focusout"&&Ca()}function ch(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zr(Io)}function fh(n,e){if(n==="click")return Zr(e)}function ph(n,e){if(n==="input"||n==="change")return Zr(e)}function mh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var je=typeof Object.is=="function"?Object.is:mh;function Ao(n,e){if(je(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!Wi.call(e,r)||!je(n[r],e[r]))return!1}return!0}function Sa(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xa(n,e){var t=Sa(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Sa(t)}}function Fc(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Fc(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function zc(){for(var n=window,e=Tr();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Tr(n.document)}return e}function pl(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function hh(n){var e=zc(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Fc(t.ownerDocument.documentElement,t)){if(o!==null&&pl(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!n.extend&&i>o&&(r=o,o=i,i=r),r=xa(t,i);var l=xa(t,o);r&&l&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>o?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var gh=gn&&"documentMode"in document&&11>=document.documentMode,gt=null,ds=null,mo=null,cs=!1;function wa(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;cs||gt==null||gt!==Tr(o)||(o=gt,"selectionStart"in o&&pl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mo&&Ao(mo,o)||(mo=o,o=kr(ds,"onSelect"),0<o.length&&(e=new dl("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=gt)))}function Qo(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var yt={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Ai={},Vc={};gn&&(Vc=document.createElement("div").style,"AnimationEvent"in window||(delete yt.animationend.animation,delete yt.animationiteration.animation,delete yt.animationstart.animation),"TransitionEvent"in window||delete yt.transitionend.transition);function jr(n){if(Ai[n])return Ai[n];if(!yt[n])return n;var e=yt[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Vc)return Ai[n]=e[t];return n}var Gc=jr("animationend"),Hc=jr("animationiteration"),qc=jr("animationstart"),Bc=jr("transitionend"),$c=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(n,e){$c.set(n,e),lt(e,[n])}for(var ki=0;ki<Ia.length;ki++){var Ni=Ia[ki],yh=Ni.toLowerCase(),vh=Ni[0].toUpperCase()+Ni.slice(1);Bn(yh,"on"+vh)}Bn(Gc,"onAnimationEnd");Bn(Hc,"onAnimationIteration");Bn(qc,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Bc,"onTransitionEnd");Ut("onMouseEnter",["mouseout","mouseover"]);Ut("onMouseLeave",["mouseout","mouseover"]);Ut("onPointerEnter",["pointerout","pointerover"]);Ut("onPointerLeave",["pointerout","pointerover"]);lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lt("onBeforeInput",["compositionend","keypress","textInput","paste"]);lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_h=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Aa(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,ym(o,e,void 0,n),n.currentTarget=null}function Jc(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&r.isPropagationStopped())break e;Aa(r,u,c),i=d}else for(l=0;l<o.length;l++){if(u=o[l],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&r.isPropagationStopped())break e;Aa(r,u,c),i=d}}}if(Sr)throw n=ss,Sr=!1,ss=null,n}function Y(n,e){var t=e[gs];t===void 0&&(t=e[gs]=new Set);var o=n+"__bubble";t.has(o)||(Wc(e,n,2,!1),t.add(o))}function Pi(n,e,t){var o=0;e&&(o|=4),Wc(t,n,o,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function ko(n){if(!n[Xo]){n[Xo]=!0,Zd.forEach(function(t){t!=="selectionchange"&&(_h.has(t)||Pi(t,!1,n),Pi(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,Pi("selectionchange",!1,e))}}function Wc(n,e,t,o){switch(kc(e)){case 1:var r=Dm;break;case 4:r=Lm;break;default:r=al}t=r.bind(null,e,t,n),r=void 0,!is||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Ri(n,e,t,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Qn(u),l===null)return;if(d=l.tag,d===5||d===6){o=i=l;continue e}u=u.parentNode}}o=o.return}mc(function(){var c=i,f=rl(t),m=[];e:{var p=$c.get(n);if(p!==void 0){var y=dl,T=n;switch(n){case"keypress":if(cr(t)===0)break e;case"keydown":case"keyup":y=Om;break;case"focusin":T="focus",y=xi;break;case"focusout":T="blur",y=xi;break;case"beforeblur":case"afterblur":y=xi;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zm;break;case Gc:case Hc:case qc:y=Hm;break;case Bc:y=eh;break;case"scroll":y=Um;break;case"wheel":y=th;break;case"copy":case"cut":case"paste":y=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ya}var E=(e&4)!==0,k=!E&&n==="scroll",v=E?p!==null?p+"Capture":null:p;E=[];for(var g=c,_;g!==null;){_=g;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,v!==null&&(C=Co(g,v),C!=null&&E.push(No(g,C,_)))),k)break;g=g.return}0<E.length&&(p=new y(p,T,null,t,f),m.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",y=n==="mouseout"||n==="pointerout",p&&t!==os&&(T=t.relatedTarget||t.fromElement)&&(Qn(T)||T[yn]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(T=t.relatedTarget||t.toElement,y=c,T=T?Qn(T):null,T!==null&&(k=at(T),T!==k||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=c),y!==T)){if(E=ha,C="onMouseLeave",v="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(E=ya,C="onPointerLeave",v="onPointerEnter",g="pointer"),k=y==null?p:vt(y),_=T==null?p:vt(T),p=new E(C,g+"leave",y,t,f),p.target=k,p.relatedTarget=_,C=null,Qn(f)===c&&(E=new E(v,g+"enter",T,t,f),E.target=_,E.relatedTarget=k,C=E),k=C,y&&T)n:{for(E=y,v=T,g=0,_=E;_;_=ct(_))g++;for(_=0,C=v;C;C=ct(C))_++;for(;0<g-_;)E=ct(E),g--;for(;0<_-g;)v=ct(v),_--;for(;g--;){if(E===v||v!==null&&E===v.alternate)break n;E=ct(E),v=ct(v)}E=null}else E=null;y!==null&&ka(m,p,y,E,!1),T!==null&&k!==null&&ka(m,k,T,E,!0)}}e:{if(p=c?vt(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var w=uh;else if(Ea(p))if(Lc)w=ph;else{w=ch;var I=dh}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=fh);if(w&&(w=w(n,c))){Dc(m,w,t,f);break e}I&&I(n,p,c),n==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&Zi(p,"number",p.value)}switch(I=c?vt(c):window,n){case"focusin":(Ea(I)||I.contentEditable==="true")&&(gt=I,ds=c,mo=null);break;case"focusout":mo=ds=gt=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,wa(m,t,f);break;case"selectionchange":if(gh)break;case"keydown":case"keyup":wa(m,t,f)}var x;if(fl)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ht?Rc(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(Pc&&t.locale!=="ko"&&(ht||N!=="onCompositionStart"?N==="onCompositionEnd"&&ht&&(x=Nc()):(Nn=f,ul="value"in Nn?Nn.value:Nn.textContent,ht=!0)),I=kr(c,N),0<I.length&&(N=new ga(N,n,null,t,f),m.push({event:N,listeners:I}),x?N.data=x:(x=Mc(t),x!==null&&(N.data=x)))),(x=rh?ih(n,t):sh(n,t))&&(c=kr(c,"onBeforeInput"),0<c.length&&(f=new ga("onBeforeInput","beforeinput",null,t,f),m.push({event:f,listeners:c}),f.data=x))}Jc(m,e)})}function No(n,e,t){return{instance:n,listener:e,currentTarget:t}}function kr(n,e){for(var t=e+"Capture",o=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Co(n,t),i!=null&&o.unshift(No(n,i,r)),i=Co(n,e),i!=null&&o.push(No(n,i,r))),n=n.return}return o}function ct(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ka(n,e,t,o,r){for(var i=e._reactName,l=[];t!==null&&t!==o;){var u=t,d=u.alternate,c=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&c!==null&&(u=c,r?(d=Co(t,i),d!=null&&l.unshift(No(t,d,u))):r||(d=Co(t,i),d!=null&&l.push(No(t,d,u)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}var Eh=/\r\n?/g,Th=/\u0000|\uFFFD/g;function Na(n){return(typeof n=="string"?n:""+n).replace(Eh,`
`).replace(Th,"")}function Zo(n,e,t){if(e=Na(e),Na(n)!==e&&t)throw Error(A(425))}function Nr(){}var fs=null,ps=null;function ms(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hs=typeof setTimeout=="function"?setTimeout:void 0,Ch=typeof clearTimeout=="function"?clearTimeout:void 0,Pa=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof Pa<"u"?function(n){return Pa.resolve(null).then(n).catch(xh)}:hs;function xh(n){setTimeout(function(){throw n})}function Mi(n,e){var t=e,o=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){n.removeChild(r),wo(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);wo(e)}function Un(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Ra(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Jt=Math.random().toString(36).slice(2),rn="__reactFiber$"+Jt,Po="__reactProps$"+Jt,yn="__reactContainer$"+Jt,gs="__reactEvents$"+Jt,wh="__reactListeners$"+Jt,Ih="__reactHandles$"+Jt;function Qn(n){var e=n[rn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[yn]||t[rn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ra(n);n!==null;){if(t=n[rn])return t;n=Ra(n)}return e}n=t,t=n.parentNode}return null}function Ho(n){return n=n[rn]||n[yn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vt(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(A(33))}function ei(n){return n[Po]||null}var ys=[],_t=-1;function $n(n){return{current:n}}function Q(n){0>_t||(n.current=ys[_t],ys[_t]=null,_t--)}function K(n,e){_t++,ys[_t]=n.current,n.current=e}var qn={},Se=$n(qn),Pe=$n(!1),nt=qn;function Ft(n,e){var t=n.type.contextTypes;if(!t)return qn;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Re(n){return n=n.childContextTypes,n!=null}function Pr(){Q(Pe),Q(Se)}function Ma(n,e,t){if(Se.current!==qn)throw Error(A(168));K(Se,e),K(Pe,t)}function bc(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(A(108,dm(n)||"Unknown",r));return ne({},t,o)}function Rr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qn,nt=Se.current,K(Se,n),K(Pe,Pe.current),!0}function Da(n,e,t){var o=n.stateNode;if(!o)throw Error(A(169));t?(n=bc(n,e,nt),o.__reactInternalMemoizedMergedChildContext=n,Q(Pe),Q(Se),K(Se,n)):Q(Pe),K(Pe,t)}var fn=null,ni=!1,Di=!1;function Kc(n){fn===null?fn=[n]:fn.push(n)}function Ah(n){ni=!0,Kc(n)}function Jn(){if(!Di&&fn!==null){Di=!0;var n=0,e=b;try{var t=fn;for(b=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}fn=null,ni=!1}catch(r){throw fn!==null&&(fn=fn.slice(n+1)),vc(il,Jn),r}finally{b=e,Di=!1}}return null}var Et=[],Tt=0,Mr=null,Dr=0,Ge=[],He=0,tt=null,pn=1,mn="";function Yn(n,e){Et[Tt++]=Dr,Et[Tt++]=Mr,Mr=n,Dr=e}function Yc(n,e,t){Ge[He++]=pn,Ge[He++]=mn,Ge[He++]=tt,tt=n;var o=pn;n=mn;var r=32-Xe(o)-1;o&=~(1<<r),t+=1;var i=32-Xe(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,pn=1<<32-Xe(e)+r|t<<r|o,mn=i+n}else pn=1<<i|t<<r|o,mn=n}function ml(n){n.return!==null&&(Yn(n,1),Yc(n,1,0))}function hl(n){for(;n===Mr;)Mr=Et[--Tt],Et[Tt]=null,Dr=Et[--Tt],Et[Tt]=null;for(;n===tt;)tt=Ge[--He],Ge[He]=null,mn=Ge[--He],Ge[He]=null,pn=Ge[--He],Ge[He]=null}var Ue=null,Le=null,Z=!1,Qe=null;function Oc(n,e){var t=qe(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function La(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ue=n,Le=Un(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ue=n,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=tt!==null?{id:pn,overflow:mn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=qe(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ue=n,Le=null,!0):!1;default:return!1}}function vs(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _s(n){if(Z){var e=Le;if(e){var t=e;if(!La(n,e)){if(vs(n))throw Error(A(418));e=Un(t.nextSibling);var o=Ue;e&&La(n,e)?Oc(o,t):(n.flags=n.flags&-4097|2,Z=!1,Ue=n)}}else{if(vs(n))throw Error(A(418));n.flags=n.flags&-4097|2,Z=!1,Ue=n}}}function Ua(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ue=n}function jo(n){if(n!==Ue)return!1;if(!Z)return Ua(n),Z=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ms(n.type,n.memoizedProps)),e&&(e=Le)){if(vs(n))throw Qc(),Error(A(418));for(;e;)Oc(n,e),e=Un(e.nextSibling)}if(Ua(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(A(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Le=Un(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Le=null}}else Le=Ue?Un(n.stateNode.nextSibling):null;return!0}function Qc(){for(var n=Le;n;)n=Un(n.nextSibling)}function zt(){Le=Ue=null,Z=!1}function gl(n){Qe===null?Qe=[n]:Qe.push(n)}var kh=Tn.ReactCurrentBatchConfig;function eo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(A(309));var o=t.stateNode}if(!o)throw Error(A(147,n));var r=o,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof n!="string")throw Error(A(284));if(!t._owner)throw Error(A(290,n))}return n}function er(n,e){throw n=Object.prototype.toString.call(e),Error(A(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Fa(n){var e=n._init;return e(n._payload)}function Xc(n){function e(v,g){if(n){var _=v.deletions;_===null?(v.deletions=[g],v.flags|=16):_.push(g)}}function t(v,g){if(!n)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(v,g){return v=Gn(v,g),v.index=0,v.sibling=null,v}function i(v,g,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<g?(v.flags|=2,g):_):(v.flags|=2,g)):(v.flags|=1048576,g)}function l(v){return n&&v.alternate===null&&(v.flags|=2),v}function u(v,g,_,C){return g===null||g.tag!==6?(g=Hi(_,v.mode,C),g.return=v,g):(g=r(g,_),g.return=v,g)}function d(v,g,_,C){var w=_.type;return w===mt?f(v,g,_.props.children,C,_.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wn&&Fa(w)===g.type)?(C=r(g,_.props),C.ref=eo(v,g,_),C.return=v,C):(C=vr(_.type,_.key,_.props,null,v.mode,C),C.ref=eo(v,g,_),C.return=v,C)}function c(v,g,_,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=qi(_,v.mode,C),g.return=v,g):(g=r(g,_.children||[]),g.return=v,g)}function f(v,g,_,C,w){return g===null||g.tag!==7?(g=et(_,v.mode,C,w),g.return=v,g):(g=r(g,_),g.return=v,g)}function m(v,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hi(""+g,v.mode,_),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:return _=vr(g.type,g.key,g.props,null,v.mode,_),_.ref=eo(v,null,g),_.return=v,_;case pt:return g=qi(g,v.mode,_),g.return=v,g;case wn:var C=g._init;return m(v,C(g._payload),_)}if(so(g)||Ot(g))return g=et(g,v.mode,_,null),g.return=v,g;er(v,g)}return null}function p(v,g,_,C){var w=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:u(v,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $o:return _.key===w?d(v,g,_,C):null;case pt:return _.key===w?c(v,g,_,C):null;case wn:return w=_._init,p(v,g,w(_._payload),C)}if(so(_)||Ot(_))return w!==null?null:f(v,g,_,C,null);er(v,_)}return null}function y(v,g,_,C,w){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(_)||null,u(g,v,""+C,w);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $o:return v=v.get(C.key===null?_:C.key)||null,d(g,v,C,w);case pt:return v=v.get(C.key===null?_:C.key)||null,c(g,v,C,w);case wn:var I=C._init;return y(v,g,_,I(C._payload),w)}if(so(C)||Ot(C))return v=v.get(_)||null,f(g,v,C,w,null);er(g,C)}return null}function T(v,g,_,C){for(var w=null,I=null,x=g,N=g=0,R=null;x!==null&&N<_.length;N++){x.index>N?(R=x,x=null):R=x.sibling;var M=p(v,x,_[N],C);if(M===null){x===null&&(x=R);break}n&&x&&M.alternate===null&&e(v,x),g=i(M,g,N),I===null?w=M:I.sibling=M,I=M,x=R}if(N===_.length)return t(v,x),Z&&Yn(v,N),w;if(x===null){for(;N<_.length;N++)x=m(v,_[N],C),x!==null&&(g=i(x,g,N),I===null?w=x:I.sibling=x,I=x);return Z&&Yn(v,N),w}for(x=o(v,x);N<_.length;N++)R=y(x,v,N,_[N],C),R!==null&&(n&&R.alternate!==null&&x.delete(R.key===null?N:R.key),g=i(R,g,N),I===null?w=R:I.sibling=R,I=R);return n&&x.forEach(function($){return e(v,$)}),Z&&Yn(v,N),w}function E(v,g,_,C){var w=Ot(_);if(typeof w!="function")throw Error(A(150));if(_=w.call(_),_==null)throw Error(A(151));for(var I=w=null,x=g,N=g=0,R=null,M=_.next();x!==null&&!M.done;N++,M=_.next()){x.index>N?(R=x,x=null):R=x.sibling;var $=p(v,x,M.value,C);if($===null){x===null&&(x=R);break}n&&x&&$.alternate===null&&e(v,x),g=i($,g,N),I===null?w=$:I.sibling=$,I=$,x=R}if(M.done)return t(v,x),Z&&Yn(v,N),w;if(x===null){for(;!M.done;N++,M=_.next())M=m(v,M.value,C),M!==null&&(g=i(M,g,N),I===null?w=M:I.sibling=M,I=M);return Z&&Yn(v,N),w}for(x=o(v,x);!M.done;N++,M=_.next())M=y(x,v,N,M.value,C),M!==null&&(n&&M.alternate!==null&&x.delete(M.key===null?N:M.key),g=i(M,g,N),I===null?w=M:I.sibling=M,I=M);return n&&x.forEach(function(W){return e(v,W)}),Z&&Yn(v,N),w}function k(v,g,_,C){if(typeof _=="object"&&_!==null&&_.type===mt&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case $o:e:{for(var w=_.key,I=g;I!==null;){if(I.key===w){if(w=_.type,w===mt){if(I.tag===7){t(v,I.sibling),g=r(I,_.props.children),g.return=v,v=g;break e}}else if(I.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wn&&Fa(w)===I.type){t(v,I.sibling),g=r(I,_.props),g.ref=eo(v,I,_),g.return=v,v=g;break e}t(v,I);break}else e(v,I);I=I.sibling}_.type===mt?(g=et(_.props.children,v.mode,C,_.key),g.return=v,v=g):(C=vr(_.type,_.key,_.props,null,v.mode,C),C.ref=eo(v,g,_),C.return=v,v=C)}return l(v);case pt:e:{for(I=_.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){t(v,g.sibling),g=r(g,_.children||[]),g.return=v,v=g;break e}else{t(v,g);break}else e(v,g);g=g.sibling}g=qi(_,v.mode,C),g.return=v,v=g}return l(v);case wn:return I=_._init,k(v,g,I(_._payload),C)}if(so(_))return T(v,g,_,C);if(Ot(_))return E(v,g,_,C);er(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(t(v,g.sibling),g=r(g,_),g.return=v,v=g):(t(v,g),g=Hi(_,v.mode,C),g.return=v,v=g),l(v)):t(v,g)}return k}var Vt=Xc(!0),Zc=Xc(!1),Lr=$n(null),Ur=null,Ct=null,yl=null;function vl(){yl=Ct=Ur=null}function _l(n){var e=Lr.current;Q(Lr),n._currentValue=e}function Es(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Pt(n,e){Ur=n,yl=Ct=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ne=!0),n.firstContext=null)}function Je(n){var e=n._currentValue;if(yl!==n)if(n={context:n,memoizedValue:e,next:null},Ct===null){if(Ur===null)throw Error(A(308));Ct=n,Ur.dependencies={lanes:0,firstContext:n}}else Ct=Ct.next=n;return e}var Xn=null;function El(n){Xn===null?Xn=[n]:Xn.push(n)}function jc(n,e,t,o){var r=e.interleaved;return r===null?(t.next=t,El(e)):(t.next=r.next,r.next=t),e.interleaved=t,vn(n,o)}function vn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var In=!1;function Tl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,B&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,vn(n,t)}return r=o.interleaved,r===null?(e.next=e,El(o)):(e.next=r.next,r.next=e),o.interleaved=e,vn(n,t)}function fr(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,sl(n,t)}}function za(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=l:i=i.next=l,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Fr(n,e,t,o){var r=n.updateQueue;In=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var f=n.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var m=r.baseState;l=0,f=c=d=null,u=i;do{var p=u.lane,y=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=n,E=u;switch(p=e,y=t,E.tag){case 1:if(T=E.payload,typeof T=="function"){m=T.call(y,m,p);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,p=typeof T=="function"?T.call(y,m,p):T,p==null)break e;m=ne({},m,p);break e;case 2:In=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else y={eventTime:y,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=y,d=m):f=f.next=y,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(d=m),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);rt|=l,n.lanes=l,n.memoizedState=m}}function Va(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(A(191,r));r.call(o)}}}var qo={},ln=$n(qo),Ro=$n(qo),Mo=$n(qo);function Zn(n){if(n===qo)throw Error(A(174));return n}function Cl(n,e){switch(K(Mo,e),K(Ro,n),K(ln,qo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:es(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=es(e,n)}Q(ln),K(ln,e)}function Gt(){Q(ln),Q(Ro),Q(Mo)}function nf(n){Zn(Mo.current);var e=Zn(ln.current),t=es(e,n.type);e!==t&&(K(Ro,n),K(ln,t))}function Sl(n){Ro.current===n&&(Q(ln),Q(Ro))}var j=$n(0);function zr(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Li=[];function xl(){for(var n=0;n<Li.length;n++)Li[n]._workInProgressVersionPrimary=null;Li.length=0}var pr=Tn.ReactCurrentDispatcher,Ui=Tn.ReactCurrentBatchConfig,ot=0,ee=null,ce=null,pe=null,Vr=!1,ho=!1,Do=0,Nh=0;function _e(){throw Error(A(321))}function wl(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!je(n[t],e[t]))return!1;return!0}function Il(n,e,t,o,r,i){if(ot=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pr.current=n===null||n.memoizedState===null?Dh:Lh,n=t(o,r),ho){i=0;do{if(ho=!1,Do=0,25<=i)throw Error(A(301));i+=1,pe=ce=null,e.updateQueue=null,pr.current=Uh,n=t(o,r)}while(ho)}if(pr.current=Gr,e=ce!==null&&ce.next!==null,ot=0,pe=ce=ee=null,Vr=!1,e)throw Error(A(300));return n}function Al(){var n=Do!==0;return Do=0,n}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ee.memoizedState=pe=n:pe=pe.next=n,pe}function We(){if(ce===null){var n=ee.alternate;n=n!==null?n.memoizedState:null}else n=ce.next;var e=pe===null?ee.memoizedState:pe.next;if(e!==null)pe=e,ce=n;else{if(n===null)throw Error(A(310));ce=n,n={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},pe===null?ee.memoizedState=pe=n:pe=pe.next=n}return pe}function Lo(n,e){return typeof e=="function"?e(n):e}function Fi(n){var e=We(),t=e.queue;if(t===null)throw Error(A(311));t.lastRenderedReducer=n;var o=ce,r=o.baseQueue,i=t.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,d=null,c=i;do{var f=c.lane;if((ot&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:n(o,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=m,l=o):d=d.next=m,ee.lanes|=f,rt|=f}c=c.next}while(c!==null&&c!==i);d===null?l=o:d.next=u,je(o,e.memoizedState)||(Ne=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=d,t.lastRenderedState=o}if(n=t.interleaved,n!==null){r=n;do i=r.lane,ee.lanes|=i,rt|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function zi(n){var e=We(),t=e.queue;if(t===null)throw Error(A(311));t.lastRenderedReducer=n;var o=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var l=r=r.next;do i=n(i,l.action),l=l.next;while(l!==r);je(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,o]}function tf(){}function of(n,e){var t=ee,o=We(),r=e(),i=!je(o.memoizedState,r);if(i&&(o.memoizedState=r,Ne=!0),o=o.queue,kl(lf.bind(null,t,o,n),[n]),o.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(t.flags|=2048,Uo(9,sf.bind(null,t,o,r,e),void 0,null),me===null)throw Error(A(349));ot&30||rf(t,e,r)}return r}function rf(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function sf(n,e,t,o){e.value=t,e.getSnapshot=o,af(e)&&uf(n)}function lf(n,e,t){return t(function(){af(e)&&uf(n)})}function af(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!je(n,t)}catch{return!0}}function uf(n){var e=vn(n,1);e!==null&&Ze(e,n,1,-1)}function Ga(n){var e=on();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:n},e.queue=n,n=n.dispatch=Mh.bind(null,ee,n),[e.memoizedState,n]}function Uo(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function df(){return We().memoizedState}function mr(n,e,t,o){var r=on();ee.flags|=n,r.memoizedState=Uo(1|e,t,void 0,o===void 0?null:o)}function ti(n,e,t,o){var r=We();o=o===void 0?null:o;var i=void 0;if(ce!==null){var l=ce.memoizedState;if(i=l.destroy,o!==null&&wl(o,l.deps)){r.memoizedState=Uo(e,t,i,o);return}}ee.flags|=n,r.memoizedState=Uo(1|e,t,i,o)}function Ha(n,e){return mr(8390656,8,n,e)}function kl(n,e){return ti(2048,8,n,e)}function cf(n,e){return ti(4,2,n,e)}function ff(n,e){return ti(4,4,n,e)}function pf(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function mf(n,e,t){return t=t!=null?t.concat([n]):null,ti(4,4,pf.bind(null,e,n),t)}function Nl(){}function hf(n,e){var t=We();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&wl(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function gf(n,e){var t=We();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&wl(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function yf(n,e,t){return ot&21?(je(t,e)||(t=Tc(),ee.lanes|=t,rt|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ne=!0),n.memoizedState=t)}function Ph(n,e){var t=b;b=t!==0&&4>t?t:4,n(!0);var o=Ui.transition;Ui.transition={};try{n(!1),e()}finally{b=t,Ui.transition=o}}function vf(){return We().memoizedState}function Rh(n,e,t){var o=Vn(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},_f(n))Ef(e,t);else if(t=jc(n,e,t,o),t!==null){var r=we();Ze(t,n,o,r),Tf(t,e,o)}}function Mh(n,e,t){var o=Vn(n),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(_f(n))Ef(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,t);if(r.hasEagerState=!0,r.eagerState=u,je(u,l)){var d=e.interleaved;d===null?(r.next=r,El(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}t=jc(n,e,r,o),t!==null&&(r=we(),Ze(t,n,o,r),Tf(t,e,o))}}function _f(n){var e=n.alternate;return n===ee||e!==null&&e===ee}function Ef(n,e){ho=Vr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Tf(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,sl(n,t)}}var Gr={readContext:Je,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Dh={readContext:Je,useCallback:function(n,e){return on().memoizedState=[n,e===void 0?null:e],n},useContext:Je,useEffect:Ha,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,mr(4194308,4,pf.bind(null,e,n),t)},useLayoutEffect:function(n,e){return mr(4194308,4,n,e)},useInsertionEffect:function(n,e){return mr(4,2,n,e)},useMemo:function(n,e){var t=on();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=on();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=Rh.bind(null,ee,n),[o.memoizedState,n]},useRef:function(n){var e=on();return n={current:n},e.memoizedState=n},useState:Ga,useDebugValue:Nl,useDeferredValue:function(n){return on().memoizedState=n},useTransition:function(){var n=Ga(!1),e=n[0];return n=Ph.bind(null,n[1]),on().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=ee,r=on();if(Z){if(t===void 0)throw Error(A(407));t=t()}else{if(t=e(),me===null)throw Error(A(349));ot&30||rf(o,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,Ha(lf.bind(null,o,i,n),[n]),o.flags|=2048,Uo(9,sf.bind(null,o,i,t,e),void 0,null),t},useId:function(){var n=on(),e=me.identifierPrefix;if(Z){var t=mn,o=pn;t=(o&~(1<<32-Xe(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=Do++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Nh++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Lh={readContext:Je,useCallback:hf,useContext:Je,useEffect:kl,useImperativeHandle:mf,useInsertionEffect:cf,useLayoutEffect:ff,useMemo:gf,useReducer:Fi,useRef:df,useState:function(){return Fi(Lo)},useDebugValue:Nl,useDeferredValue:function(n){var e=We();return yf(e,ce.memoizedState,n)},useTransition:function(){var n=Fi(Lo)[0],e=We().memoizedState;return[n,e]},useMutableSource:tf,useSyncExternalStore:of,useId:vf,unstable_isNewReconciler:!1},Uh={readContext:Je,useCallback:hf,useContext:Je,useEffect:kl,useImperativeHandle:mf,useInsertionEffect:cf,useLayoutEffect:ff,useMemo:gf,useReducer:zi,useRef:df,useState:function(){return zi(Lo)},useDebugValue:Nl,useDeferredValue:function(n){var e=We();return ce===null?e.memoizedState=n:yf(e,ce.memoizedState,n)},useTransition:function(){var n=zi(Lo)[0],e=We().memoizedState;return[n,e]},useMutableSource:tf,useSyncExternalStore:of,useId:vf,unstable_isNewReconciler:!1};function Ye(n,e){if(n&&n.defaultProps){e=ne({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ts(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:ne({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var oi={isMounted:function(n){return(n=n._reactInternals)?at(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=we(),r=Vn(n),i=hn(o,r);i.payload=e,t!=null&&(i.callback=t),e=Fn(n,i,r),e!==null&&(Ze(e,n,r,o),fr(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=we(),r=Vn(n),i=hn(o,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Fn(n,i,r),e!==null&&(Ze(e,n,r,o),fr(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=we(),o=Vn(n),r=hn(t,o);r.tag=2,e!=null&&(r.callback=e),e=Fn(n,r,o),e!==null&&(Ze(e,n,o,t),fr(e,n,o))}};function qa(n,e,t,o,r,i,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!Ao(t,o)||!Ao(r,i):!0}function Cf(n,e,t){var o=!1,r=qn,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(r=Re(e)?nt:Se.current,o=e.contextTypes,i=(o=o!=null)?Ft(n,r):qn),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oi,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function Ba(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&oi.enqueueReplaceState(e,e.state,null)}function Cs(n,e,t,o){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Tl(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Je(i):(i=Re(e)?nt:Se.current,r.context=Ft(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ts(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&oi.enqueueReplaceState(r,r.state,null),Fr(n,t,r,o),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ht(n,e){try{var t="",o=e;do t+=um(o),o=o.return;while(o);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function Vi(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ss(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Fh=typeof WeakMap=="function"?WeakMap:Map;function Sf(n,e,t){t=hn(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){qr||(qr=!0,Ds=o),Ss(n,e)},t}function xf(n,e,t){t=hn(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;t.payload=function(){return o(r)},t.callback=function(){Ss(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Ss(n,e),typeof o!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function $a(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new Fh;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(t)||(r.add(t),n=Qh.bind(null,n,e,t),e.then(n,n))}function Ja(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Wa(n,e,t,o,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hn(-1,1),e.tag=2,Fn(t,e,1))),t.lanes|=1),n)}var zh=Tn.ReactCurrentOwner,Ne=!1;function xe(n,e,t,o){e.child=n===null?Zc(e,null,t,o):Vt(e,n.child,t,o)}function ba(n,e,t,o,r){t=t.render;var i=e.ref;return Pt(e,r),o=Il(n,e,t,o,i,r),t=Al(),n!==null&&!Ne?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,_n(n,e,r)):(Z&&t&&ml(e),e.flags|=1,xe(n,e,o,r),e.child)}function Ka(n,e,t,o,r){if(n===null){var i=t.type;return typeof i=="function"&&!zl(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,wf(n,e,i,o,r)):(n=vr(t.type,null,o,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var l=i.memoizedProps;if(t=t.compare,t=t!==null?t:Ao,t(l,o)&&n.ref===e.ref)return _n(n,e,r)}return e.flags|=1,n=Gn(i,o),n.ref=e.ref,n.return=e,e.child=n}function wf(n,e,t,o,r){if(n!==null){var i=n.memoizedProps;if(Ao(i,o)&&n.ref===e.ref)if(Ne=!1,e.pendingProps=o=i,(n.lanes&r)!==0)n.flags&131072&&(Ne=!0);else return e.lanes=n.lanes,_n(n,e,r)}return xs(n,e,t,o,r)}function If(n,e,t){var o=e.pendingProps,r=o.children,i=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(xt,De),De|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,K(xt,De),De|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:t,K(xt,De),De|=o}else i!==null?(o=i.baseLanes|t,e.memoizedState=null):o=t,K(xt,De),De|=o;return xe(n,e,r,t),e.child}function Af(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xs(n,e,t,o,r){var i=Re(t)?nt:Se.current;return i=Ft(e,i),Pt(e,r),t=Il(n,e,t,o,i,r),o=Al(),n!==null&&!Ne?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,_n(n,e,r)):(Z&&o&&ml(e),e.flags|=1,xe(n,e,t,r),e.child)}function Ya(n,e,t,o,r){if(Re(t)){var i=!0;Rr(e)}else i=!1;if(Pt(e,r),e.stateNode===null)hr(n,e),Cf(e,t,o),Cs(e,t,o,r),o=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,c=t.contextType;typeof c=="object"&&c!==null?c=Je(c):(c=Re(t)?nt:Se.current,c=Ft(e,c));var f=t.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||d!==c)&&Ba(e,l,o,c),In=!1;var p=e.memoizedState;l.state=p,Fr(e,o,l,r),d=e.memoizedState,u!==o||p!==d||Pe.current||In?(typeof f=="function"&&(Ts(e,t,f,o),d=e.memoizedState),(u=In||qa(e,t,u,o,p,d,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),l.props=o,l.state=d,l.context=c,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,ef(n,e),u=e.memoizedProps,c=e.type===e.elementType?u:Ye(e.type,u),l.props=c,m=e.pendingProps,p=l.context,d=t.contextType,typeof d=="object"&&d!==null?d=Je(d):(d=Re(t)?nt:Se.current,d=Ft(e,d));var y=t.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==d)&&Ba(e,l,o,d),In=!1,p=e.memoizedState,l.state=p,Fr(e,o,l,r);var T=e.memoizedState;u!==m||p!==T||Pe.current||In?(typeof y=="function"&&(Ts(e,t,y,o),T=e.memoizedState),(c=In||qa(e,t,c,o,p,T,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,T,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,T,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=T),l.props=o,l.state=T,l.context=d,o=c):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),o=!1)}return ws(n,e,t,o,i,r)}function ws(n,e,t,o,r,i){Af(n,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&Da(e,t,!1),_n(n,e,i);o=e.stateNode,zh.current=e;var u=l&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&l?(e.child=Vt(e,n.child,null,i),e.child=Vt(e,null,u,i)):xe(n,e,u,i),e.memoizedState=o.state,r&&Da(e,t,!0),e.child}function kf(n){var e=n.stateNode;e.pendingContext?Ma(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ma(n,e.context,!1),Cl(n,e.containerInfo)}function Oa(n,e,t,o,r){return zt(),gl(r),e.flags|=256,xe(n,e,t,o),e.child}var Is={dehydrated:null,treeContext:null,retryLane:0};function As(n){return{baseLanes:n,cachePool:null,transitions:null}}function Nf(n,e,t){var o=e.pendingProps,r=j.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=n!==null&&n.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),K(j,r&1),n===null)return _s(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,n=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=si(l,o,0,null),n=et(n,o,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=As(t),e.memoizedState=Is,n):Pl(e,l));if(r=n.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Vh(n,e,l,o,u,r,t);if(i){i=o.fallback,l=e.mode,r=n.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=Gn(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Gn(u,i):(i=et(i,l,t,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=n.child.memoizedState,l=l===null?As(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=n.childLanes&~t,e.memoizedState=Is,o}return i=n.child,n=i.sibling,o=Gn(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function Pl(n,e){return e=si({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function nr(n,e,t,o){return o!==null&&gl(o),Vt(e,n.child,null,t),n=Pl(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Vh(n,e,t,o,r,i,l){if(t)return e.flags&256?(e.flags&=-257,o=Vi(Error(A(422))),nr(n,e,l,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=si({mode:"visible",children:o.children},r,0,null),i=et(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Vt(e,n.child,null,l),e.child.memoizedState=As(l),e.memoizedState=Is,i);if(!(e.mode&1))return nr(n,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(A(419)),o=Vi(i,o,void 0),nr(n,e,l,o)}if(u=(l&n.childLanes)!==0,Ne||u){if(o=me,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,vn(n,r),Ze(o,n,r,-1))}return Fl(),o=Vi(Error(A(421))),nr(n,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Xh.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Le=Un(r.nextSibling),Ue=e,Z=!0,Qe=null,n!==null&&(Ge[He++]=pn,Ge[He++]=mn,Ge[He++]=tt,pn=n.id,mn=n.overflow,tt=e),e=Pl(e,o.children),e.flags|=4096,e)}function Qa(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),Es(n.return,e,t)}function Gi(n,e,t,o,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function Pf(n,e,t){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(xe(n,e,o.children,t),o=j.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qa(n,t,e);else if(n.tag===19)Qa(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(K(j,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&zr(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Gi(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&zr(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Gi(e,!0,t,null,i);break;case"together":Gi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hr(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function _n(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rt|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(A(153));if(e.child!==null){for(n=e.child,t=Gn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Gn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Gh(n,e,t){switch(e.tag){case 3:kf(e),zt();break;case 5:nf(e);break;case 1:Re(e.type)&&Rr(e);break;case 4:Cl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;K(Lr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(K(j,j.current&1),e.flags|=128,null):t&e.child.childLanes?Nf(n,e,t):(K(j,j.current&1),n=_n(n,e,t),n!==null?n.sibling:null);K(j,j.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return Pf(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),K(j,j.current),o)break;return null;case 22:case 23:return e.lanes=0,If(n,e,t)}return _n(n,e,t)}var Rf,ks,Mf,Df;Rf=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ks=function(){};Mf=function(n,e,t,o){var r=n.memoizedProps;if(r!==o){n=e.stateNode,Zn(ln.current);var i=null;switch(t){case"input":r=Qi(n,r),o=Qi(n,o),i=[];break;case"select":r=ne({},r,{value:void 0}),o=ne({},o,{value:void 0}),i=[];break;case"textarea":r=ji(n,r),o=ji(n,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Nr)}ns(t,o);var l;t=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var u=r[c];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(u=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(t||(t={}),t[l]=d[l])}else t||(i||(i=[]),i.push(c,t)),t=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Y("scroll",n),i||u===d||(i=[])):(i=i||[]).push(c,d))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Df=function(n,e,t,o){t!==o&&(e.flags|=4)};function no(n,e){if(!Z)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Ee(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function Hh(n,e,t){var o=e.pendingProps;switch(hl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return Re(e.type)&&Pr(),Ee(e),null;case 3:return o=e.stateNode,Gt(),Q(Pe),Q(Se),xl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(jo(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Fs(Qe),Qe=null))),ks(n,e),Ee(e),null;case 5:Sl(e);var r=Zn(Mo.current);if(t=e.type,n!==null&&e.stateNode!=null)Mf(n,e,t,o,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(A(166));return Ee(e),null}if(n=Zn(ln.current),jo(e)){o=e.stateNode,t=e.type;var i=e.memoizedProps;switch(o[rn]=e,o[Po]=i,n=(e.mode&1)!==0,t){case"dialog":Y("cancel",o),Y("close",o);break;case"iframe":case"object":case"embed":Y("load",o);break;case"video":case"audio":for(r=0;r<ao.length;r++)Y(ao[r],o);break;case"source":Y("error",o);break;case"img":case"image":case"link":Y("error",o),Y("load",o);break;case"details":Y("toggle",o);break;case"input":ia(o,i),Y("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Y("invalid",o);break;case"textarea":la(o,i),Y("invalid",o)}ns(t,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Zo(o.textContent,u,n),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Zo(o.textContent,u,n),r=["children",""+u]):Eo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Y("scroll",o)}switch(t){case"input":Jo(o),sa(o,i,!0);break;case"textarea":Jo(o),aa(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Nr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=sc(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=l.createElement(t,{is:o.is}):(n=l.createElement(t),t==="select"&&(l=n,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):n=l.createElementNS(n,t),n[rn]=e,n[Po]=o,Rf(n,e,!1,!1),e.stateNode=n;e:{switch(l=ts(t,o),t){case"dialog":Y("cancel",n),Y("close",n),r=o;break;case"iframe":case"object":case"embed":Y("load",n),r=o;break;case"video":case"audio":for(r=0;r<ao.length;r++)Y(ao[r],n);r=o;break;case"source":Y("error",n),r=o;break;case"img":case"image":case"link":Y("error",n),Y("load",n),r=o;break;case"details":Y("toggle",n),r=o;break;case"input":ia(n,o),r=Qi(n,o),Y("invalid",n);break;case"option":r=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=ne({},o,{value:void 0}),Y("invalid",n);break;case"textarea":la(n,o),r=ji(n,o),Y("invalid",n);break;default:r=o}ns(t,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?uc(n,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&lc(n,d)):i==="children"?typeof d=="string"?(t!=="textarea"||d!=="")&&To(n,d):typeof d=="number"&&To(n,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Y("scroll",n):d!=null&&el(n,i,d,l))}switch(t){case"input":Jo(n),sa(n,o,!1);break;case"textarea":Jo(n),aa(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Hn(o.value));break;case"select":n.multiple=!!o.multiple,i=o.value,i!=null?It(n,!!o.multiple,i,!1):o.defaultValue!=null&&It(n,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Nr)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(n&&e.stateNode!=null)Df(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(A(166));if(t=Zn(Mo.current),Zn(ln.current),jo(e)){if(o=e.stateNode,t=e.memoizedProps,o[rn]=e,(i=o.nodeValue!==t)&&(n=Ue,n!==null))switch(n.tag){case 3:Zo(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zo(o.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[rn]=e,e.stateNode=o}return Ee(e),null;case 13:if(Q(j),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Z&&Le!==null&&e.mode&1&&!(e.flags&128))Qc(),zt(),e.flags|=98560,i=!1;else if(i=jo(e),o!==null&&o.dehydrated!==null){if(n===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[rn]=e}else zt(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),i=!1}else Qe!==null&&(Fs(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||j.current&1?fe===0&&(fe=3):Fl())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return Gt(),ks(n,e),n===null&&ko(e.stateNode.containerInfo),Ee(e),null;case 10:return _l(e.type._context),Ee(e),null;case 17:return Re(e.type)&&Pr(),Ee(e),null;case 19:if(Q(j),i=e.memoizedState,i===null)return Ee(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)no(i,!1);else{if(fe!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=zr(n),l!==null){for(e.flags|=128,no(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)i=t,n=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return K(j,j.current&1|2),e.child}n=n.sibling}i.tail!==null&&le()>qt&&(e.flags|=128,o=!0,no(i,!1),e.lanes=4194304)}else{if(!o)if(n=zr(l),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Z)return Ee(e),null}else 2*le()-i.renderingStartTime>qt&&t!==1073741824&&(e.flags|=128,o=!0,no(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,t=j.current,K(j,o?t&1|2:t&1),e):(Ee(e),null);case 22:case 23:return Ul(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?De&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function qh(n,e){switch(hl(e),e.tag){case 1:return Re(e.type)&&Pr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gt(),Q(Pe),Q(Se),xl(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Sl(e),null;case 13:if(Q(j),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(A(340));zt()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Q(j),null;case 4:return Gt(),null;case 10:return _l(e.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var tr=!1,Te=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,U=null;function St(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){re(n,e,o)}else t.current=null}function Ns(n,e,t){try{t()}catch(o){re(n,e,o)}}var Xa=!1;function $h(n,e){if(fs=Ir,n=zc(),pl(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var l=0,u=-1,d=-1,c=0,f=0,m=n,p=null;n:for(;;){for(var y;m!==t||r!==0&&m.nodeType!==3||(u=l+r),m!==i||o!==0&&m.nodeType!==3||(d=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===n)break n;if(p===t&&++c===r&&(u=l),p===i&&++f===o&&(d=l),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}t=u===-1||d===-1?null:{start:u,end:d}}else t=null}t=t||{start:0,end:0}}else t=null;for(ps={focusedElem:n,selectionRange:t},Ir=!1,U=e;U!==null;)if(e=U,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,U=n;else for(;U!==null;){e=U;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,k=T.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ye(e.type,E),k);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(C){re(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}return T=Xa,Xa=!1,T}function go(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ns(e,t,i)}r=r.next}while(r!==o)}}function ri(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function Ps(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Lf(n){var e=n.alternate;e!==null&&(n.alternate=null,Lf(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[rn],delete e[Po],delete e[gs],delete e[wh],delete e[Ih])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Uf(n){return n.tag===5||n.tag===3||n.tag===4}function Za(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Uf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rs(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Nr));else if(o!==4&&(n=n.child,n!==null))for(Rs(n,e,t),n=n.sibling;n!==null;)Rs(n,e,t),n=n.sibling}function Ms(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(Ms(n,e,t),n=n.sibling;n!==null;)Ms(n,e,t),n=n.sibling}var ge=null,Oe=!1;function xn(n,e,t){for(t=t.child;t!==null;)Ff(n,e,t),t=t.sibling}function Ff(n,e,t){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Qr,t)}catch{}switch(t.tag){case 5:Te||St(t,e);case 6:var o=ge,r=Oe;ge=null,xn(n,e,t),ge=o,Oe=r,ge!==null&&(Oe?(n=ge,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ge.removeChild(t.stateNode));break;case 18:ge!==null&&(Oe?(n=ge,t=t.stateNode,n.nodeType===8?Mi(n.parentNode,t):n.nodeType===1&&Mi(n,t),wo(n)):Mi(ge,t.stateNode));break;case 4:o=ge,r=Oe,ge=t.stateNode.containerInfo,Oe=!0,xn(n,e,t),ge=o,Oe=r;break;case 0:case 11:case 14:case 15:if(!Te&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ns(t,e,l),r=r.next}while(r!==o)}xn(n,e,t);break;case 1:if(!Te&&(St(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){re(t,e,u)}xn(n,e,t);break;case 21:xn(n,e,t);break;case 22:t.mode&1?(Te=(o=Te)||t.memoizedState!==null,xn(n,e,t),Te=o):xn(n,e,t);break;default:xn(n,e,t)}}function ja(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Bh),e.forEach(function(o){var r=Zh.bind(null,n,o);t.has(o)||(t.add(o),o.then(r,r))})}}function be(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var i=n,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ge=u.stateNode,Oe=!1;break e;case 3:ge=u.stateNode.containerInfo,Oe=!0;break e;case 4:ge=u.stateNode.containerInfo,Oe=!0;break e}u=u.return}if(ge===null)throw Error(A(160));Ff(i,l,r),ge=null,Oe=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){re(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zf(e,n),e=e.sibling}function zf(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(be(e,n),nn(n),o&4){try{go(3,n,n.return),ri(3,n)}catch(E){re(n,n.return,E)}try{go(5,n,n.return)}catch(E){re(n,n.return,E)}}break;case 1:be(e,n),nn(n),o&512&&t!==null&&St(t,t.return);break;case 5:if(be(e,n),nn(n),o&512&&t!==null&&St(t,t.return),n.flags&32){var r=n.stateNode;try{To(r,"")}catch(E){re(n,n.return,E)}}if(o&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,l=t!==null?t.memoizedProps:i,u=n.type,d=n.updateQueue;if(n.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&rc(r,i),ts(u,l);var c=ts(u,i);for(l=0;l<d.length;l+=2){var f=d[l],m=d[l+1];f==="style"?uc(r,m):f==="dangerouslySetInnerHTML"?lc(r,m):f==="children"?To(r,m):el(r,f,m,c)}switch(u){case"input":Xi(r,i);break;case"textarea":ic(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?It(r,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?It(r,!!i.multiple,i.defaultValue,!0):It(r,!!i.multiple,i.multiple?[]:"",!1))}r[Po]=i}catch(E){re(n,n.return,E)}}break;case 6:if(be(e,n),nn(n),o&4){if(n.stateNode===null)throw Error(A(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(E){re(n,n.return,E)}}break;case 3:if(be(e,n),nn(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{wo(e.containerInfo)}catch(E){re(n,n.return,E)}break;case 4:be(e,n),nn(n);break;case 13:be(e,n),nn(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Dl=le())),o&4&&ja(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(Te=(c=Te)||f,be(e,n),Te=c):be(e,n),nn(n),o&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!f&&n.mode&1)for(U=n,f=n.child;f!==null;){for(m=U=f;U!==null;){switch(p=U,y=p.child,p.tag){case 0:case 11:case 14:case 15:go(4,p,p.return);break;case 1:St(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){o=p,t=p.return;try{e=o,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(E){re(o,t,E)}}break;case 5:St(p,p.return);break;case 22:if(p.memoizedState!==null){nu(m);continue}}y!==null?(y.return=p,U=y):nu(m)}f=f.sibling}e:for(f=null,m=n;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=ac("display",l))}catch(E){re(n,n.return,E)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(E){re(n,n.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===n)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:be(e,n),nn(n),o&4&&ja(n);break;case 21:break;default:be(e,n),nn(n)}}function nn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Uf(t)){var o=t;break e}t=t.return}throw Error(A(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(To(r,""),o.flags&=-33);var i=Za(n);Ms(n,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Za(n);Rs(n,u,l);break;default:throw Error(A(161))}}catch(d){re(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Jh(n,e,t){U=n,Vf(n)}function Vf(n,e,t){for(var o=(n.mode&1)!==0;U!==null;){var r=U,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||tr;if(!l){var u=r.alternate,d=u!==null&&u.memoizedState!==null||Te;u=tr;var c=Te;if(tr=l,(Te=d)&&!c)for(U=r;U!==null;)l=U,d=l.child,l.tag===22&&l.memoizedState!==null?tu(r):d!==null?(d.return=l,U=d):tu(r);for(;i!==null;)U=i,Vf(i),i=i.sibling;U=r,tr=u,Te=c}eu(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,U=i):eu(n)}}function eu(n){for(;U!==null;){var e=U;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||ri(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Te)if(t===null)o.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ye(e.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Va(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Va(e,l,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&t.focus();break;case"img":d.src&&(t.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&wo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Te||e.flags&512&&Ps(e)}catch(p){re(e,e.return,p)}}if(e===n){U=null;break}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}}function nu(n){for(;U!==null;){var e=U;if(e===n){U=null;break}var t=e.sibling;if(t!==null){t.return=e.return,U=t;break}U=e.return}}function tu(n){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ri(4,e)}catch(d){re(e,t,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){re(e,r,d)}}var i=e.return;try{Ps(e)}catch(d){re(e,i,d)}break;case 5:var l=e.return;try{Ps(e)}catch(d){re(e,l,d)}}}catch(d){re(e,e.return,d)}if(e===n){U=null;break}var u=e.sibling;if(u!==null){u.return=e.return,U=u;break}U=e.return}}var Wh=Math.ceil,Hr=Tn.ReactCurrentDispatcher,Rl=Tn.ReactCurrentOwner,Be=Tn.ReactCurrentBatchConfig,B=0,me=null,de=null,ye=0,De=0,xt=$n(0),fe=0,Fo=null,rt=0,ii=0,Ml=0,yo=null,ke=null,Dl=0,qt=1/0,cn=null,qr=!1,Ds=null,zn=null,or=!1,Pn=null,Br=0,vo=0,Ls=null,gr=-1,yr=0;function we(){return B&6?le():gr!==-1?gr:gr=le()}function Vn(n){return n.mode&1?B&2&&ye!==0?ye&-ye:kh.transition!==null?(yr===0&&(yr=Tc()),yr):(n=b,n!==0||(n=window.event,n=n===void 0?16:kc(n.type)),n):1}function Ze(n,e,t,o){if(50<vo)throw vo=0,Ls=null,Error(A(185));Vo(n,t,o),(!(B&2)||n!==me)&&(n===me&&(!(B&2)&&(ii|=t),fe===4&&kn(n,ye)),Me(n,o),t===1&&B===0&&!(e.mode&1)&&(qt=le()+500,ni&&Jn()))}function Me(n,e){var t=n.callbackNode;km(n,e);var o=wr(n,n===me?ye:0);if(o===0)t!==null&&ca(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&ca(t),e===1)n.tag===0?Ah(ou.bind(null,n)):Kc(ou.bind(null,n)),Sh(function(){!(B&6)&&Jn()}),t=null;else{switch(Cc(o)){case 1:t=il;break;case 4:t=_c;break;case 16:t=xr;break;case 536870912:t=Ec;break;default:t=xr}t=bf(t,Gf.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Gf(n,e){if(gr=-1,yr=0,B&6)throw Error(A(327));var t=n.callbackNode;if(Rt()&&n.callbackNode!==t)return null;var o=wr(n,n===me?ye:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=$r(n,o);else{e=o;var r=B;B|=2;var i=qf();(me!==n||ye!==e)&&(cn=null,qt=le()+500,jn(n,e));do try{Yh();break}catch(u){Hf(n,u)}while(!0);vl(),Hr.current=i,B=r,de!==null?e=0:(me=null,ye=0,e=fe)}if(e!==0){if(e===2&&(r=ls(n),r!==0&&(o=r,e=Us(n,r))),e===1)throw t=Fo,jn(n,0),kn(n,o),Me(n,le()),t;if(e===6)kn(n,o);else{if(r=n.current.alternate,!(o&30)&&!bh(r)&&(e=$r(n,o),e===2&&(i=ls(n),i!==0&&(o=i,e=Us(n,i))),e===1))throw t=Fo,jn(n,0),kn(n,o),Me(n,le()),t;switch(n.finishedWork=r,n.finishedLanes=o,e){case 0:case 1:throw Error(A(345));case 2:On(n,ke,cn);break;case 3:if(kn(n,o),(o&130023424)===o&&(e=Dl+500-le(),10<e)){if(wr(n,0)!==0)break;if(r=n.suspendedLanes,(r&o)!==o){we(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=hs(On.bind(null,n,ke,cn),e);break}On(n,ke,cn);break;case 4:if(kn(n,o),(o&4194240)===o)break;for(e=n.eventTimes,r=-1;0<o;){var l=31-Xe(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Wh(o/1960))-o,10<o){n.timeoutHandle=hs(On.bind(null,n,ke,cn),o);break}On(n,ke,cn);break;case 5:On(n,ke,cn);break;default:throw Error(A(329))}}}return Me(n,le()),n.callbackNode===t?Gf.bind(null,n):null}function Us(n,e){var t=yo;return n.current.memoizedState.isDehydrated&&(jn(n,e).flags|=256),n=$r(n,e),n!==2&&(e=ke,ke=t,e!==null&&Fs(e)),n}function Fs(n){ke===null?ke=n:ke.push.apply(ke,n)}function bh(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!je(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kn(n,e){for(e&=~Ml,e&=~ii,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xe(e),o=1<<t;n[t]=-1,e&=~o}}function ou(n){if(B&6)throw Error(A(327));Rt();var e=wr(n,0);if(!(e&1))return Me(n,le()),null;var t=$r(n,e);if(n.tag!==0&&t===2){var o=ls(n);o!==0&&(e=o,t=Us(n,o))}if(t===1)throw t=Fo,jn(n,0),kn(n,e),Me(n,le()),t;if(t===6)throw Error(A(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,On(n,ke,cn),Me(n,le()),null}function Ll(n,e){var t=B;B|=1;try{return n(e)}finally{B=t,B===0&&(qt=le()+500,ni&&Jn())}}function it(n){Pn!==null&&Pn.tag===0&&!(B&6)&&Rt();var e=B;B|=1;var t=Be.transition,o=b;try{if(Be.transition=null,b=1,n)return n()}finally{b=o,Be.transition=t,B=e,!(B&6)&&Jn()}}function Ul(){De=xt.current,Q(xt)}function jn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Ch(t)),de!==null)for(t=de.return;t!==null;){var o=t;switch(hl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Pr();break;case 3:Gt(),Q(Pe),Q(Se),xl();break;case 5:Sl(o);break;case 4:Gt();break;case 13:Q(j);break;case 19:Q(j);break;case 10:_l(o.type._context);break;case 22:case 23:Ul()}t=t.return}if(me=n,de=n=Gn(n.current,null),ye=De=e,fe=0,Fo=null,Ml=ii=rt=0,ke=yo=null,Xn!==null){for(e=0;e<Xn.length;e++)if(t=Xn[e],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,i=t.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}t.pending=o}Xn=null}return n}function Hf(n,e){do{var t=de;try{if(vl(),pr.current=Gr,Vr){for(var o=ee.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Vr=!1}if(ot=0,pe=ce=ee=null,ho=!1,Do=0,Rl.current=null,t===null||t.return===null){fe=1,Fo=e,de=null;break}e:{var i=n,l=t.return,u=t,d=e;if(e=ye,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Ja(l);if(y!==null){y.flags&=-257,Wa(y,l,u,i,e),y.mode&1&&$a(i,c,e),e=y,d=c;var T=e.updateQueue;if(T===null){var E=new Set;E.add(d),e.updateQueue=E}else T.add(d);break e}else{if(!(e&1)){$a(i,c,e),Fl();break e}d=Error(A(426))}}else if(Z&&u.mode&1){var k=Ja(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Wa(k,l,u,i,e),gl(Ht(d,u));break e}}i=d=Ht(d,u),fe!==4&&(fe=2),yo===null?yo=[i]:yo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Sf(i,d,e);za(i,v);break e;case 1:u=d;var g=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zn===null||!zn.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=xf(i,u,e);za(i,C);break e}}i=i.return}while(i!==null)}$f(t)}catch(w){e=w,de===t&&t!==null&&(de=t=t.return);continue}break}while(!0)}function qf(){var n=Hr.current;return Hr.current=Gr,n===null?Gr:n}function Fl(){(fe===0||fe===3||fe===2)&&(fe=4),me===null||!(rt&268435455)&&!(ii&268435455)||kn(me,ye)}function $r(n,e){var t=B;B|=2;var o=qf();(me!==n||ye!==e)&&(cn=null,jn(n,e));do try{Kh();break}catch(r){Hf(n,r)}while(!0);if(vl(),B=t,Hr.current=o,de!==null)throw Error(A(261));return me=null,ye=0,fe}function Kh(){for(;de!==null;)Bf(de)}function Yh(){for(;de!==null&&!_m();)Bf(de)}function Bf(n){var e=Wf(n.alternate,n,De);n.memoizedProps=n.pendingProps,e===null?$f(n):de=e,Rl.current=null}function $f(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=qh(t,e),t!==null){t.flags&=32767,de=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{fe=6,de=null;return}}else if(t=Hh(t,e,De),t!==null){de=t;return}if(e=e.sibling,e!==null){de=e;return}de=e=n}while(e!==null);fe===0&&(fe=5)}function On(n,e,t){var o=b,r=Be.transition;try{Be.transition=null,b=1,Oh(n,e,t,o)}finally{Be.transition=r,b=o}return null}function Oh(n,e,t,o){do Rt();while(Pn!==null);if(B&6)throw Error(A(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(A(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(Nm(n,i),n===me&&(de=me=null,ye=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||or||(or=!0,bf(xr,function(){return Rt(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var l=b;b=1;var u=B;B|=4,Rl.current=null,$h(n,t),zf(t,n),hh(ps),Ir=!!fs,ps=fs=null,n.current=t,Jh(t),Em(),B=u,b=l,Be.transition=i}else n.current=t;if(or&&(or=!1,Pn=n,Br=r),i=n.pendingLanes,i===0&&(zn=null),Sm(t.stateNode),Me(n,le()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(qr)throw qr=!1,n=Ds,Ds=null,n;return Br&1&&n.tag!==0&&Rt(),i=n.pendingLanes,i&1?n===Ls?vo++:(vo=0,Ls=n):vo=0,Jn(),null}function Rt(){if(Pn!==null){var n=Cc(Br),e=Be.transition,t=b;try{if(Be.transition=null,b=16>n?16:n,Pn===null)var o=!1;else{if(n=Pn,Pn=null,Br=0,B&6)throw Error(A(331));var r=B;for(B|=4,U=n.current;U!==null;){var i=U,l=i.child;if(U.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(U=c;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:go(8,f,i)}var m=f.child;if(m!==null)m.return=f,U=m;else for(;U!==null;){f=U;var p=f.sibling,y=f.return;if(Lf(f),f===c){U=null;break}if(p!==null){p.return=y,U=p;break}U=y}}}var T=i.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var k=E.sibling;E.sibling=null,E=k}while(E!==null)}}U=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,U=l;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:go(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,U=v;break e}U=i.return}}var g=n.current;for(U=g;U!==null;){l=U;var _=l.child;if(l.subtreeFlags&2064&&_!==null)_.return=l,U=_;else e:for(l=g;U!==null;){if(u=U,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ri(9,u)}}catch(w){re(u,u.return,w)}if(u===l){U=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,U=C;break e}U=u.return}}if(B=r,Jn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Qr,n)}catch{}o=!0}return o}finally{b=t,Be.transition=e}}return!1}function ru(n,e,t){e=Ht(t,e),e=Sf(n,e,1),n=Fn(n,e,1),e=we(),n!==null&&(Vo(n,1,e),Me(n,e))}function re(n,e,t){if(n.tag===3)ru(n,n,t);else for(;e!==null;){if(e.tag===3){ru(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zn===null||!zn.has(o))){n=Ht(t,n),n=xf(e,n,1),e=Fn(e,n,1),n=we(),e!==null&&(Vo(e,1,n),Me(e,n));break}}e=e.return}}function Qh(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=we(),n.pingedLanes|=n.suspendedLanes&t,me===n&&(ye&t)===t&&(fe===4||fe===3&&(ye&130023424)===ye&&500>le()-Dl?jn(n,0):Ml|=t),Me(n,e)}function Jf(n,e){e===0&&(n.mode&1?(e=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):e=1);var t=we();n=vn(n,e),n!==null&&(Vo(n,e,t),Me(n,t))}function Xh(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Jf(n,t)}function Zh(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(A(314))}o!==null&&o.delete(e),Jf(n,t)}var Wf;Wf=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Pe.current)Ne=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ne=!1,Gh(n,e,t);Ne=!!(n.flags&131072)}else Ne=!1,Z&&e.flags&1048576&&Yc(e,Dr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;hr(n,e),n=e.pendingProps;var r=Ft(e,Se.current);Pt(e,t),r=Il(null,e,o,n,r,t);var i=Al();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(o)?(i=!0,Rr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tl(e),r.updater=oi,e.stateNode=r,r._reactInternals=e,Cs(e,o,n,t),e=ws(null,e,o,!0,i,t)):(e.tag=0,Z&&i&&ml(e),xe(null,e,r,t),e=e.child),e;case 16:o=e.elementType;e:{switch(hr(n,e),n=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=eg(o),n=Ye(o,n),r){case 0:e=xs(null,e,o,n,t);break e;case 1:e=Ya(null,e,o,n,t);break e;case 11:e=ba(null,e,o,n,t);break e;case 14:e=Ka(null,e,o,Ye(o.type,n),t);break e}throw Error(A(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),xs(n,e,o,r,t);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),Ya(n,e,o,r,t);case 3:e:{if(kf(e),n===null)throw Error(A(387));o=e.pendingProps,i=e.memoizedState,r=i.element,ef(n,e),Fr(e,o,null,t);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Ht(Error(A(423)),e),e=Oa(n,e,o,t,r);break e}else if(o!==r){r=Ht(Error(A(424)),e),e=Oa(n,e,o,t,r);break e}else for(Le=Un(e.stateNode.containerInfo.firstChild),Ue=e,Z=!0,Qe=null,t=Zc(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zt(),o===r){e=_n(n,e,t);break e}xe(n,e,o,t)}e=e.child}return e;case 5:return nf(e),n===null&&_s(e),o=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,l=r.children,ms(o,r)?l=null:i!==null&&ms(o,i)&&(e.flags|=32),Af(n,e),xe(n,e,l,t),e.child;case 6:return n===null&&_s(e),null;case 13:return Nf(n,e,t);case 4:return Cl(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=Vt(e,null,o,t):xe(n,e,o,t),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),ba(n,e,o,r,t);case 7:return xe(n,e,e.pendingProps,t),e.child;case 8:return xe(n,e,e.pendingProps.children,t),e.child;case 12:return xe(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,K(Lr,o._currentValue),o._currentValue=l,i!==null)if(je(i.value,l)){if(i.children===r.children&&!Pe.current){e=_n(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=hn(-1,t&-t),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=t,d=i.alternate,d!==null&&(d.lanes|=t),Es(i.return,t,e),u.lanes|=t;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(A(341));l.lanes|=t,u=l.alternate,u!==null&&(u.lanes|=t),Es(l,t,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}xe(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Pt(e,t),r=Je(r),o=o(r),e.flags|=1,xe(n,e,o,t),e.child;case 14:return o=e.type,r=Ye(o,e.pendingProps),r=Ye(o.type,r),Ka(n,e,o,r,t);case 15:return wf(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),hr(n,e),e.tag=1,Re(o)?(n=!0,Rr(e)):n=!1,Pt(e,t),Cf(e,o,r),Cs(e,o,r,t),ws(null,e,o,!0,n,t);case 19:return Pf(n,e,t);case 22:return If(n,e,t)}throw Error(A(156,e.tag))};function bf(n,e){return vc(n,e)}function jh(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(n,e,t,o){return new jh(n,e,t,o)}function zl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function eg(n){if(typeof n=="function")return zl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===tl)return 11;if(n===ol)return 14}return 2}function Gn(n,e){var t=n.alternate;return t===null?(t=qe(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vr(n,e,t,o,r,i){var l=2;if(o=n,typeof n=="function")zl(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case mt:return et(t.children,r,i,e);case nl:l=8,r|=8;break;case bi:return n=qe(12,t,e,r|2),n.elementType=bi,n.lanes=i,n;case Ki:return n=qe(13,t,e,r),n.elementType=Ki,n.lanes=i,n;case Yi:return n=qe(19,t,e,r),n.elementType=Yi,n.lanes=i,n;case nc:return si(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jd:l=10;break e;case ec:l=9;break e;case tl:l=11;break e;case ol:l=14;break e;case wn:l=16,o=null;break e}throw Error(A(130,n==null?n:typeof n,""))}return e=qe(l,t,e,r),e.elementType=n,e.type=o,e.lanes=i,e}function et(n,e,t,o){return n=qe(7,n,o,e),n.lanes=t,n}function si(n,e,t,o){return n=qe(22,n,o,e),n.elementType=nc,n.lanes=t,n.stateNode={isHidden:!1},n}function Hi(n,e,t){return n=qe(6,n,null,e),n.lanes=t,n}function qi(n,e,t){return e=qe(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ng(n,e,t,o,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vl(n,e,t,o,r,i,l,u,d){return n=new ng(n,e,t,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),n}function tg(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pt,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function Kf(n){if(!n)return qn;n=n._reactInternals;e:{if(at(n)!==n||n.tag!==1)throw Error(A(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(n.tag===1){var t=n.type;if(Re(t))return bc(n,t,e)}return e}function Yf(n,e,t,o,r,i,l,u,d){return n=Vl(t,o,!0,n,r,i,l,u,d),n.context=Kf(null),t=n.current,o=we(),r=Vn(t),i=hn(o,r),i.callback=e??null,Fn(t,i,r),n.current.lanes=r,Vo(n,r,o),Me(n,o),n}function li(n,e,t,o){var r=e.current,i=we(),l=Vn(r);return t=Kf(t),e.context===null?e.context=t:e.pendingContext=t,e=hn(i,l),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Fn(r,e,l),n!==null&&(Ze(n,r,l,i),fr(n,r,l)),l}function Jr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function iu(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Gl(n,e){iu(n,e),(n=n.alternate)&&iu(n,e)}function og(){return null}var Of=typeof reportError=="function"?reportError:function(n){console.error(n)};function Hl(n){this._internalRoot=n}ai.prototype.render=Hl.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(A(409));li(n,e,null,null)};ai.prototype.unmount=Hl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;it(function(){li(null,n,null,null)}),e[yn]=null}};function ai(n){this._internalRoot=n}ai.prototype.unstable_scheduleHydration=function(n){if(n){var e=wc();n={blockedOn:null,target:n,priority:e};for(var t=0;t<An.length&&e!==0&&e<An[t].priority;t++);An.splice(t,0,n),t===0&&Ac(n)}};function ql(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ui(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function su(){}function rg(n,e,t,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Jr(l);i.call(c)}}var l=Yf(e,o,n,0,null,!1,!1,"",su);return n._reactRootContainer=l,n[yn]=l.current,ko(n.nodeType===8?n.parentNode:n),it(),l}for(;r=n.lastChild;)n.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var c=Jr(d);u.call(c)}}var d=Vl(n,0,!1,null,null,!1,!1,"",su);return n._reactRootContainer=d,n[yn]=d.current,ko(n.nodeType===8?n.parentNode:n),it(function(){li(e,d,t,o)}),d}function di(n,e,t,o,r){var i=t._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var d=Jr(l);u.call(d)}}li(e,l,n,r)}else l=rg(t,e,n,r,o);return Jr(l)}Sc=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=lo(e.pendingLanes);t!==0&&(sl(e,t|1),Me(e,le()),!(B&6)&&(qt=le()+500,Jn()))}break;case 13:it(function(){var o=vn(n,1);if(o!==null){var r=we();Ze(o,n,1,r)}}),Gl(n,1)}};ll=function(n){if(n.tag===13){var e=vn(n,134217728);if(e!==null){var t=we();Ze(e,n,134217728,t)}Gl(n,134217728)}};xc=function(n){if(n.tag===13){var e=Vn(n),t=vn(n,e);if(t!==null){var o=we();Ze(t,n,e,o)}Gl(n,e)}};wc=function(){return b};Ic=function(n,e){var t=b;try{return b=n,e()}finally{b=t}};rs=function(n,e,t){switch(e){case"input":if(Xi(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var r=ei(o);if(!r)throw Error(A(90));oc(o),Xi(o,r)}}}break;case"textarea":ic(n,t);break;case"select":e=t.value,e!=null&&It(n,!!t.multiple,e,!1)}};fc=Ll;pc=it;var ig={usingClientEntryPoint:!1,Events:[Ho,vt,ei,dc,cc,Ll]},to={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gc(n),n===null?null:n.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rr.isDisabled&&rr.supportsFiber)try{Qr=rr.inject(sg),sn=rr}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;ze.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ql(e))throw Error(A(200));return tg(n,e,null,t)};ze.createRoot=function(n,e){if(!ql(n))throw Error(A(299));var t=!1,o="",r=Of;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Vl(n,1,!1,null,null,t,!1,o,r),n[yn]=e.current,ko(n.nodeType===8?n.parentNode:n),new Hl(e)};ze.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(A(188)):(n=Object.keys(n).join(","),Error(A(268,n)));return n=gc(e),n=n===null?null:n.stateNode,n};ze.flushSync=function(n){return it(n)};ze.hydrate=function(n,e,t){if(!ui(e))throw Error(A(200));return di(null,n,e,!0,t)};ze.hydrateRoot=function(n,e,t){if(!ql(n))throw Error(A(405));var o=t!=null&&t.hydratedSources||null,r=!1,i="",l=Of;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=Yf(e,null,n,1,t??null,r,!1,i,l),n[yn]=e.current,ko(n),o)for(n=0;n<o.length;n++)t=o[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new ai(e)};ze.render=function(n,e,t){if(!ui(e))throw Error(A(200));return di(null,n,e,!1,t)};ze.unmountComponentAtNode=function(n){if(!ui(n))throw Error(A(40));return n._reactRootContainer?(it(function(){di(null,null,n,!1,function(){n._reactRootContainer=null,n[yn]=null})}),!0):!1};ze.unstable_batchedUpdates=Ll;ze.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!ui(t))throw Error(A(200));if(n==null||n._reactInternals===void 0)throw Error(A(38));return di(n,e,t,!1,o)};ze.version="18.3.1-next-f1338f8080-20240426";function Qf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qf)}catch(n){console.error(n)}}Qf(),Od.exports=ze;var lg=Od.exports,lu=lg;Ji.createRoot=lu.createRoot,Ji.hydrateRoot=lu.hydrateRoot;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xf=(...n)=>n.filter((e,t,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ug={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:l,...u},d)=>q.createElement("svg",{ref:d,...ug,width:e,height:e,stroke:n,strokeWidth:o?Number(t)*24/Number(e):t,className:Xf("lucide",r),...u},[...l.map(([c,f])=>q.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(n,e)=>{const t=q.forwardRef(({className:o,...r},i)=>q.createElement(dg,{ref:i,iconNode:e,className:Xf(`lucide-${ag(n)}`,o),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=te("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=te("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=te("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=te("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=te("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=te("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const Ke=({children:n,variant:e="primary",size:t="md",isLoading:o=!1,icon:r,className:i="",disabled:l,...u})=>{const d="inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-zinc-900 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-brand-500 hover:bg-brand-400 text-black focus:ring-brand-500 shadow-lg shadow-brand-500/20",secondary:"bg-zinc-200 hover:bg-zinc-300 text-zinc-900 dark:bg-zinc-800 dark:hover:bg-zinc-700 dark:text-white focus:ring-zinc-500",outline:"bg-transparent border border-zinc-300 dark:border-zinc-600 text-zinc-700 dark:text-zinc-300 hover:border-zinc-400 dark:hover:border-zinc-400 hover:text-black dark:hover:text-white",ghost:"bg-transparent text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800/50",danger:"bg-red-600 hover:bg-red-500 text-white focus:ring-red-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return h.jsxs("button",{className:`${d} ${c[e]} ${f[t]} ${i}`,disabled:o||l,...u,children:[o?h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):r?h.jsx("span",{className:"mr-2",children:r}):null,n]})},Vs=({label:n,onFileSelect:e,accept:t="image/*",currentPreview:o,onClear:r})=>{const[i,l]=q.useState(!1),u=m=>{m.preventDefault(),l(!0)},d=()=>{l(!1)},c=m=>{m.preventDefault(),l(!1),m.dataTransfer.files&&m.dataTransfer.files.length>0&&e(m.dataTransfer.files[0])},f=m=>{m.target.files&&m.target.files.length>0&&e(m.target.files[0])};return o?h.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900 aspect-square flex items-center justify-center",children:[h.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-contain"}),h.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsx("button",{onClick:r,className:"p-2 bg-red-500/20 text-red-400 rounded-full hover:bg-red-500 hover:text-white transition-colors",children:h.jsx(ft,{size:20})})}),h.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/70 rounded text-xs text-white font-mono pointer-events-none",children:n})]}):h.jsxs("div",{className:`relative w-full aspect-square rounded-xl border-2 border-dashed transition-all duration-200 flex flex-col items-center justify-center cursor-pointer group
        ${i?"border-brand-500 bg-brand-500/10":"border-zinc-300 dark:border-zinc-700 hover:border-zinc-500 dark:hover:border-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800/50"}`,onDragOver:u,onDragLeave:d,onDrop:c,children:[h.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:t,onChange:f}),h.jsxs("div",{className:"p-4 text-center pointer-events-none",children:[h.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors
          ${i?"bg-brand-500 text-black":"bg-zinc-200 dark:bg-zinc-800 text-zinc-400 dark:text-zinc-500 group-hover:text-zinc-500 dark:group-hover:text-zinc-300"}`,children:h.jsx(Sg,{size:20})}),h.jsx("p",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-300 mb-1",children:n}),h.jsx("p",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:"Drag & drop or click"})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xg,wg;function Ig(){return{geminiUrl:xg,vertexUrl:wg}}function Ag(n,e,t,o){var r,i;if(!(n!=null&&n.baseUrl)){const l=Ig();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:t:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cn{}function P(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(n,e,t){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){const d=n[u];if(Array.isArray(t))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(i+1),t[c])}else for(const c of d)a(c,e.slice(i+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in n||(n[u]=[{}]);const d=n[u];a(d[0],e.slice(i+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function s(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in n){const l=n[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),t)):t}else return t}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function kg(n,e){for(const[t,o]of Object.entries(e)){const r=t.split("."),i=o.split("."),l=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&i.length>u)for(let d=u;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}Gs(n,r,i,0,l)}}function Gs(n,e,t,o,r){if(o>=e.length||typeof n!="object"||n===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=n;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Gs(d,e,t,o+1,r)}else if(i==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const m=[];for(const p of t.slice(o))p==="*"?m.push(c):m.push(p);a(l,m,f)}for(const c of u)delete l[c]}}else{const l=n;i in l&&Gs(l[i],e,t,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bl(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ng(n){const e={},t=s(n,["operationName"]);t!=null&&a(e,["operationName"],t);const o=s(n,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Pg(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Mg(l)),e}function Rg(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],Dg(l)),e}function Mg(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Lg(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Dg(n){const e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Ug(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Lg(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],qg(t)),e}function Ug(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],Bg(t)),e}function Fg(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function zg(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function Vg(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],Gg(l)),e}function Gg(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&a(e,["parent"],o);const r=s(n,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function jf(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],Hg(l)),e}function Hg(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&a(e,["parent"],o);const r=s(n,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function qg(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Bl(o));const r=s(n,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function Bg(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Bl(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var du;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(du||(du={}));var cu;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(cu||(cu={}));var fu;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(fu||(fu={}));var Rn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Rn||(Rn={}));var pu;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(pu||(pu={}));var mu;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mu||(mu={}));var hu;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(hu||(hu={}));var gu;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(gu||(gu={}));var yu;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(yu||(yu={}));var vu;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(vu||(vu={}));var _u;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_u||(_u={}));var Eu;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Eu||(Eu={}));var Tu;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Tu||(Tu={}));var Cu;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Cu||(Cu={}));var Su;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Su||(Su={}));var xu;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xu||(xu={}));var wu;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wu||(wu={}));var Iu;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Iu||(Iu={}));var Au;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Au||(Au={}));var st;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(st||(st={}));var ku;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ku||(ku={}));var Nu;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nu||(Nu={}));var Pu;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pu||(Pu={}));var Hs;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hs||(Hs={}));var Ru;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ru||(Ru={}));var Mu;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mu||(Mu={}));var Du;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Du||(Du={}));var Lu;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Lu||(Lu={}));var Uu;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Uu||(Uu={}));var Fu;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fu||(Fu={}));var zu;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(zu||(zu={}));var Vu;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Vu||(Vu={}));var Gu;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Gu||(Gu={}));var Hu;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Hu||(Hu={}));var qu;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qu||(qu={}));var Bu;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bu||(Bu={}));var $u;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($u||($u={}));var Ju;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ju||(Ju={}));var Wu;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Wu||(Wu={}));var bu;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(bu||(bu={}));var Ku;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Ku||(Ku={}));var Yu;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Yu||(Yu={}));var Ou;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ou||(Ou={}));var Qu;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Qu||(Qu={}));var Xu;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Xu||(Xu={}));var Zu;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Zu||(Zu={}));var ju;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ju||(ju={}));var ed;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ed||(ed={}));var nd;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nd||(nd={}));var td;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(td||(td={}));var od;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(od||(od={}));var rd;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rd||(rd={}));var id;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(id||(id={}));var sd;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(sd||(sd={}));var wt;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(wt||(wt={}));class qs{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ro{get text(){var e,t,o,r,i,l,u,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const p of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,T]of Object.entries(p))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,c+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,t,o,r,i,l,u,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[p,y]of Object.entries(m))p!=="inlineData"&&(y!==null||y!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,o,r,i,l,u,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,o,r,i,l,u,d,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,o,r,i,l,u,d,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class ld{}class ad{}class $g{}class Jg{}class Wg{}class bg{}class ud{}class dd{}class cd{}class Kg{}class Wr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Wr;let r;const i=e;return t?r=Rg(i):r=Pg(i),Object.assign(o,r),o}}class fd{}class pd{}class md{}class hd{}class Yg{}class Og{}class Qg{}class $l{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new $l,i=Vg(e);return Object.assign(o,i),o}}class Xg{}class Zg{}class jg{}class gd{}class ey{get text(){var e,t,o;let r="",i=!1;const l=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,t,o;let r="";const i=[];for(const l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ny{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Jl{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Jl,i=jf(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ep(n,e){const t=J(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function np(n){return Array.isArray(n)?n.map(e=>br(e)):[br(n)]}function br(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function tp(n){const e=br(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function op(n){const e=br(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yd(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function rp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>yd(e)):[yd(n)]}function Bs(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function vd(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function _d(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ce(n){if(n==null)throw new Error("ContentUnion is required");return Bs(n)?n:{role:"user",parts:rp(n)}}function Wl(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=Ce(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=Ce(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ce(t)):[Ce(e)]}function $e(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(vd(n)||_d(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ce(n)]}const e=[],t=[],o=Bs(n[0]);for(const r of n){const i=Bs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(vd(r)||_d(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||e.push({role:"user",parts:rp(t)}),e}function ty(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(Rn).includes(t[0].toUpperCase())?t[0].toUpperCase():Rn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(Rn).includes(o.toUpperCase())?o.toUpperCase():Rn.TYPE_UNSPECIFIED})}}function Mt(n){const e={},t=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=n.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,n=i[1]):i[1].type==="null"&&(e.nullable=!0,n=i[0])),n.type instanceof Array&&ty(n.type,e);for(const[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Rn).includes(u.toUpperCase())?u.toUpperCase():Rn.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=Mt(u);else if(o.includes(l)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(Mt(c))}e[l]=d}else if(r.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=Mt(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function bl(n){return Mt(n)}function Kl(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Yl(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Wt(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Mt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Mt(e.response));return n}function bt(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function oy(n,e,t,o=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Sn(n,e){if(typeof e!="string")throw new Error("name must be a string");return oy(n,e,"cachedContents")}function ip(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Wn(n){return Bl(n)}function ry(n){return n!=null&&typeof n=="object"&&"name"in n}function iy(n){return n!=null&&typeof n=="object"&&"video"in n}function sy(n){return n!=null&&typeof n=="object"&&"uri"in n}function sp(n){var e;let t;if(ry(n)&&(t=n.name),!(sy(n)&&(t=n.uri,t===void 0))&&!(iy(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function lp(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function ap(n){for(const e of["models","tunedModels","publisherModels"])if(ly(n,e))return n[e];return[]}function ly(n,e){return n!==null&&typeof n=="object"&&e in n}function ay(n,e={}){const t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function uy(n,e={}){const t=[],o=new Set;for(const r of n){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=ay(r,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function up(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function dy(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dp(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Kt(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function cp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cy(n){const e={},t=s(n,["responsesFile"]);t!=null&&a(e,["fileName"],t);const o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Wy(l))),a(e,["inlinedResponses"],i)}const r=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function fy(n){const e={},t=s(n,["predictionsFormat"]);t!=null&&a(e,["format"],t);const o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(n,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function py(n){const e={},t=s(n,["format"]);t!=null&&a(e,["predictionsFormat"],t);const o=s(n,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _r(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["metadata","state"]);r!=null&&a(e,["state"],cp(r));const i=s(n,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(n,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(n,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const d=s(n,["metadata","model"]);d!=null&&a(e,["model"],d);const c=s(n,["metadata","output"]);return c!=null&&a(e,["dest"],cy(dp(c))),e}function $s(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["state"]);r!=null&&a(e,["state"],cp(r));const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(e,["startTime"],u);const d=s(n,["endTime"]);d!=null&&a(e,["endTime"],d);const c=s(n,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(n,["model"]);f!=null&&a(e,["model"],f);const m=s(n,["inputConfig"]);m!=null&&a(e,["src"],my(m));const p=s(n,["outputConfig"]);p!=null&&a(e,["dest"],fy(dp(p)));const y=s(n,["completionStats"]);return y!=null&&a(e,["completionStats"],y),e}function my(n){const e={},t=s(n,["instancesFormat"]);t!=null&&a(e,["format"],t);const o=s(n,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(n,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function hy(n,e){const t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Jy(n,l))),a(t,["requests","requests"],i)}return t}function gy(n){const e={},t=s(n,["format"]);t!=null&&a(e,["instancesFormat"],t);const o=s(n,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function yy(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function vy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Kt(n,o)),t}function _y(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Kt(n,o)),t}function Ey(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Ty(o));const r=s(n,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(n,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(n,["index"]);d!=null&&a(e,["index"],d);const c=s(n,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(n,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>y)),a(e,["safetyRatings"],p)}const m=s(n,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function Ty(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function fp(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Zy(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Cy(n,e){const t={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Sy(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],py(dy(r))),t}function Ed(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["src"]);r!=null&&a(t,["batch","inputConfig"],hy(n,up(n,r)));const i=s(e,["config"]);return i!=null&&Cy(i,t),t}function xy(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],J(n,o));const r=s(e,["src"]);r!=null&&a(t,["inputConfig"],gy(up(n,r)));const i=s(e,["config"]);return i!=null&&Sy(i,t),t}function wy(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),t}function Iy(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["src"]);r!=null&&a(t,["batch","inputConfig"],Dy(n,r));const i=s(e,["config"]);return i!=null&&wy(i,t),t}function Ay(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Kt(n,o)),t}function ky(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Kt(n,o)),t}function Ny(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function Py(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function Ry(n,e){const t={},o=s(e,["contents"]);if(o!=null){let i=Wl(n,o);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(t,["_self"],My(r,t)),kg(t,{"requests[].*":"requests[].request.*"})),t}function My(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Dy(n,e){const t={},o=s(e,["fileName"]);o!=null&&a(t,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(t,["requests"],Ry(n,r)),t}function Ly(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Uy(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const r=s(n,["name"]);if(r!=null&&a(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fy(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const o=s(n,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zy(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],fp(Ce(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const T=s(e,["frequencyPenalty"]);T!=null&&a(o,["frequencyPenalty"],T);const E=s(e,["seed"]);E!=null&&a(o,["seed"],E);const k=s(e,["responseMimeType"]);k!=null&&a(o,["responseMimeType"],k);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],bl(v));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=s(e,["safetySettings"]);if(t!==void 0&&_!=null){let W=_;Array.isArray(W)&&(W=W.map(ie=>jy(ie))),a(t,["safetySettings"],W)}const C=s(e,["tools"]);if(t!==void 0&&C!=null){let W=bt(C);Array.isArray(W)&&(W=W.map(ie=>n0(Wt(ie)))),a(t,["tools"],W)}const w=s(e,["toolConfig"]);if(t!==void 0&&w!=null&&a(t,["toolConfig"],e0(w)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);t!==void 0&&I!=null&&a(t,["cachedContent"],Sn(n,I));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const R=s(e,["speechConfig"]);if(R!=null&&a(o,["speechConfig"],Kl(R)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(e,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const $=s(e,["imageConfig"]);return $!=null&&a(o,["imageConfig"],$y($)),o}function Vy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>Ey(c))),a(e,["candidates"],d)}const r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(n,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Gy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Kt(n,o)),t}function Hy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Kt(n,o)),t}function qy(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function By(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function $y(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const o=s(n,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Jy(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["request","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let u=$e(r);Array.isArray(u)&&(u=u.map(d=>fp(d))),a(t,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(t,["request","generationConfig"],zy(n,l,s(t,["request"],{}))),t}function Wy(n){const e={},t=s(n,["response"]);t!=null&&a(e,["response"],Vy(t));const o=s(n,["error"]);return o!=null&&a(e,["error"],o),e}function by(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Ky(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(n,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),t}function Yy(n){const e={},t=s(n,["config"]);return t!=null&&by(t,e),e}function Oy(n){const e={},t=s(n,["config"]);return t!=null&&Ky(t,e),e}function Qy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>_r(l))),a(e,["batchJobs"],i)}return e}function Xy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>$s(l))),a(e,["batchJobs"],i)}return e}function Zy(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],Ly(i));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],Uy(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],yy(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function jy(n){const e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function e0(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],Fy(t));const o=s(n,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function n0(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],qy(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],By(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var En;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));class ut{constructor(e,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,r)}init(e,t,o){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t0 extends Cn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ut(En.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=Ed(this.apiClient,e),o=t._url,r=P("{model}:batchGenerateContent",o),u=t.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=p,m.request=y}c.push(m)}return u.requests=c,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=xy(this.apiClient,e);return u=P("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}else{const c=Ed(this.apiClient,e);return u=P("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>_r(f))}}async createEmbeddingsInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Iy(this.apiClient,e);return i=P("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>_r(d))}}async get(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Hy(this.apiClient,e);return u=P("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}else{const c=Gy(this.apiClient,e);return u=P("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>_r(f))}}async cancel(e){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=_y(this.apiClient,e);l=P("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=vy(this.apiClient,e);l=P("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Oy(e);return u=P("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Xy(f),p=new gd;return Object.assign(p,m),p})}else{const c=Yy(e);return u=P("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Qy(f),p=new gd;return Object.assign(p,m),p})}}async delete(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ky(this.apiClient,e);return u=P("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Py(f))}else{const c=Ay(this.apiClient,e);return u=P("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Ny(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o0(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Td(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>I0(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function r0(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let f=$e(l);Array.isArray(f)&&(f=f.map(m=>Td(m))),a(e,["contents"],f)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Td(Ce(u)));const d=s(n,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>k0(m))),a(e,["tools"],f)}const c=s(n,["toolConfig"]);if(e!==void 0&&c!=null&&a(e,["toolConfig"],A0(c)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function i0(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let m=$e(l);Array.isArray(m)&&(m=m.map(p=>p)),a(e,["contents"],m)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Ce(u));const d=s(n,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>N0(p))),a(e,["tools"],m)}const c=s(n,["toolConfig"]);e!==void 0&&c!=null&&a(e,["toolConfig"],c);const f=s(n,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),t}function s0(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],ep(n,o));const r=s(e,["config"]);return r!=null&&r0(r,t),t}function l0(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],ep(n,o));const r=s(e,["config"]);return r!=null&&i0(r,t),t}function a0(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Sn(n,o)),t}function u0(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Sn(n,o)),t}function d0(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function c0(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function f0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function p0(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const r=s(n,["name"]);if(r!=null&&a(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m0(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const o=s(n,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function h0(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function g0(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Sn(n,o)),t}function y0(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Sn(n,o)),t}function v0(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function _0(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function E0(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function T0(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function C0(n){const e={},t=s(n,["config"]);return t!=null&&E0(t,e),e}function S0(n){const e={},t=s(n,["config"]);return t!=null&&T0(t,e),e}function x0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function w0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function I0(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],f0(i));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],p0(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],o0(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function A0(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],m0(t));const o=s(n,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function k0(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],v0(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],_0(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function N0(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>h0(p))),a(e,["functionDeclarations"],m)}const o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(n,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(n,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function P0(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),t}function R0(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),t}function M0(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Sn(n,o));const r=s(e,["config"]);return r!=null&&P0(r,t),t}function D0(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Sn(n,o));const r=s(e,["config"]);return r!=null&&R0(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0 extends Cn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ut(En.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=l0(this.apiClient,e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=s0(this.apiClient,e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=y0(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=g0(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=u0(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=c0(f),p=new md;return Object.assign(p,m),p})}else{const c=a0(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=d0(f),p=new md;return Object.assign(p,m),p})}}async update(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=D0(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=M0(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=S0(e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=w0(f),p=new hd;return Object.assign(p,m),p})}else{const c=C0(e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=x0(f),p=new hd;return Object.assign(p,m),p})}}}function Cd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(n){return this instanceof O?(this.v=n,this):new O(n)}function Dt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(y){return function(T){return Promise.resolve(T).then(y,m)}}function u(y,T){o[y]&&(r[y]=function(E){return new Promise(function(k,v){i.push([y,E,k,v])>1||d(y,E)})},T&&(r[y]=T(r[y])))}function d(y,T){try{c(o[y](T))}catch(E){p(i[0][3],E)}}function c(y){y.value instanceof O?Promise.resolve(y.value.v).then(f,m):p(i[0][2],y)}function f(y){d("next",y)}function m(y){d("throw",y)}function p(y,T){y(T),i.shift(),i.length&&d(i[0][0],i[0][1])}}function _o(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Cd=="function"?Cd(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=n[i]&&function(l){return new Promise(function(u,d){l=n[i](l),r(u,d,l.done,l.value)})}}function r(i,l,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U0(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:pp(t)}function pp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function F0(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sd(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let i=!0;for(;o<t&&n[o].role==="model";)r.push(n[o]),i&&!pp(n[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class z0{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new V0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class V0{constructor(e,t,o,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),F0(i)}async sendMessage(e){var t;await this.sendPromise;const o=Ce(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,l,u;const d=await r,c=(l=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const y=c?[c]:[];this.recordHistory(o,y,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const o=Ce(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const t=e?Sd(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,r;return Dt(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var m=!0,p=_o(e),y;y=yield O(p.next()),l=y.done,!l;m=!0){c=y.value,m=!1;const T=c;if(U0(T)){const E=(r=(o=T.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;E!==void 0&&f.push(E)}yield yield O(T)}}catch(T){u={error:T}}finally{try{!m&&!l&&(d=p.return)&&(yield O(d.call(p)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let r=[];t.length>0&&t.every(i=>i.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Sd(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ci extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ci.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G0(n){const e={},t=s(n,["file"]);return t!=null&&a(e,["file"],t),e}function H0(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function q0(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],sp(t)),e}function B0(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function $0(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],sp(t)),e}function J0(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function W0(n){const e={},t=s(n,["config"]);return t!=null&&J0(t,e),e}function b0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K0 extends Cn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ut(En.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=W0(e);return i=P("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=b0(d),f=new Xg;return Object.assign(f,c),f})}}async createInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=G0(e);return i=P("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=H0(d),f=new Zg;return Object.assign(f,c),f})}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$0(e);return i=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q0(e);return i=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=B0(d),f=new jg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Er(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Y0(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>dv(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function O0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Q0(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const r=s(n,["name"]);if(r!=null&&a(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function X0(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Z0(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const o=s(n,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(n,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(n,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(n,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(n,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(n,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const y=s(n,["responseMimeType"]);y!=null&&a(e,["responseMimeType"],y);const T=s(n,["responseModalities"]);T!=null&&a(e,["responseModalities"],T);const E=s(n,["responseSchema"]);E!=null&&a(e,["responseSchema"],E);const k=s(n,["routingConfig"]);k!=null&&a(e,["routingConfig"],k);const v=s(n,["seed"]);v!=null&&a(e,["seed"],v);const g=s(n,["speechConfig"]);g!=null&&a(e,["speechConfig"],mp(g));const _=s(n,["stopSequences"]);_!=null&&a(e,["stopSequences"],_);const C=s(n,["temperature"]);C!=null&&a(e,["temperature"],C);const w=s(n,["thinkingConfig"]);w!=null&&a(e,["thinkingConfig"],w);const I=s(n,["topK"]);I!=null&&a(e,["topK"],I);const x=s(n,["topP"]);if(x!=null&&a(e,["topP"],x),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function j0(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function ev(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function nv(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(n,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(n,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Yl(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const y=s(n,["enableAffectiveDialog"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],y);const T=s(n,["systemInstruction"]);e!==void 0&&T!=null&&a(e,["setup","systemInstruction"],Y0(Ce(T)));const E=s(n,["tools"]);if(e!==void 0&&E!=null){let I=bt(E);Array.isArray(I)&&(I=I.map(x=>fv(Wt(x)))),a(e,["setup","tools"],I)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&a(e,["setup","sessionResumption"],cv(k));const v=s(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const _=s(n,["realtimeInputConfig"]);e!==void 0&&_!=null&&a(e,["setup","realtimeInputConfig"],_);const C=s(n,["contextWindowCompression"]);e!==void 0&&C!=null&&a(e,["setup","contextWindowCompression"],C);const w=s(n,["proactivity"]);return e!==void 0&&w!=null&&a(e,["setup","proactivity"],w),t}function tv(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],Z0(o));const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(n,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(n,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],mp(Yl(m)));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const y=s(n,["enableAffectiveDialog"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],y);const T=s(n,["systemInstruction"]);e!==void 0&&T!=null&&a(e,["setup","systemInstruction"],Ce(T));const E=s(n,["tools"]);if(e!==void 0&&E!=null){let I=bt(E);Array.isArray(I)&&(I=I.map(x=>pv(Wt(x)))),a(e,["setup","tools"],I)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&a(e,["setup","sessionResumption"],k);const v=s(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const _=s(n,["realtimeInputConfig"]);e!==void 0&&_!=null&&a(e,["setup","realtimeInputConfig"],_);const C=s(n,["contextWindowCompression"]);e!==void 0&&C!=null&&a(e,["setup","contextWindowCompression"],C);const w=s(n,["proactivity"]);return e!==void 0&&w!=null&&a(e,["setup","proactivity"],w),t}function ov(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],J(n,o));const r=s(e,["config"]);return r!=null&&a(t,["config"],nv(r,t)),t}function rv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],J(n,o));const r=s(e,["config"]);return r!=null&&a(t,["config"],tv(r,t)),t}function iv(n){const e={},t=s(n,["musicGenerationConfig"]);return t!=null&&a(e,["musicGenerationConfig"],t),e}function sv(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function lv(n){const e={},t=s(n,["media"]);if(t!=null){let c=np(t);Array.isArray(c)&&(c=c.map(f=>Er(f))),a(e,["mediaChunks"],c)}const o=s(n,["audio"]);o!=null&&a(e,["audio"],Er(op(o)));const r=s(n,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(n,["video"]);i!=null&&a(e,["video"],Er(tp(i)));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(n,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function av(n){const e={},t=s(n,["media"]);if(t!=null){let c=np(t);Array.isArray(c)&&(c=c.map(f=>f)),a(e,["mediaChunks"],c)}const o=s(n,["audio"]);o!=null&&a(e,["audio"],op(o));const r=s(n,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(n,["video"]);i!=null&&a(e,["video"],tp(i));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(n,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function uv(n){const e={},t=s(n,["setupComplete"]);t!=null&&a(e,["setupComplete"],t);const o=s(n,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(n,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(n,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(n,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],mv(l));const u=s(n,["goAway"]);u!=null&&a(e,["goAway"],u);const d=s(n,["sessionResumptionUpdate"]);return d!=null&&a(e,["sessionResumptionUpdate"],d),e}function dv(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],O0(i));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],Q0(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],Er(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function cv(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mp(n){const e={},t=s(n,["languageCode"]);t!=null&&a(e,["languageCode"],t);const o=s(n,["voiceConfig"]);if(o!=null&&a(e,["voiceConfig"],o),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function fv(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],j0(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],ev(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function pv(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>X0(p))),a(e,["functionDeclarations"],m)}const o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(n,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(n,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function mv(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);const o=s(n,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(n,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(n,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(n,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(n,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const d=s(n,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>T)),a(e,["promptTokensDetails"],y)}const c=s(n,["cacheTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),a(e,["cacheTokensDetails"],y)}const f=s(n,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>T)),a(e,["responseTokensDetails"],y)}const m=s(n,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(T=>T)),a(e,["toolUsePromptTokensDetails"],y)}const p=s(n,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hv(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function gv(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],yv(o));const r=s(n,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(n,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(n,["index"]);d!=null&&a(e,["index"],d);const c=s(n,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(n,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>y)),a(e,["safetyRatings"],p)}const m=s(n,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function yv(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function vv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let i=$e(r);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["contents"],i)}return t}function _v(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function Ev(n){const e={},t=s(n,["values"]);t!=null&&a(e,["values"],t);const o=s(n,["statistics"]);return o!=null&&a(e,["statistics"],Tv(o)),e}function Tv(n){const e={},t=s(n,["truncated"]);t!=null&&a(e,["truncated"],t);const o=s(n,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function fi(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>P_(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Cv(n){const e={},t=s(n,["controlType"]);t!=null&&a(e,["controlType"],t);const o=s(n,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function Sv(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function xv(n,e){const t={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],Ce(o));const r=s(n,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_p(u))),a(e,["tools"],l)}const i=s(n,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],h_(i)),t}function wv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(u=>fi(u))),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&Sv(i),t}function Iv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&xv(i,t),t}function Av(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(n,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function kv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function Nv(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],J(n,o)),t}function Pv(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],J(n,o)),t}function Rv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Mv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Dv(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(n,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const y=s(n,["language"]);e!==void 0&&y!=null&&a(e,["parameters","language"],y);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const E=s(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);const k=s(n,["addWatermark"]);e!==void 0&&k!=null&&a(e,["parameters","addWatermark"],k);const v=s(n,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const g=s(n,["editMode"]);e!==void 0&&g!=null&&a(e,["parameters","editMode"],g);const _=s(n,["baseSteps"]);return e!==void 0&&_!=null&&a(e,["parameters","editConfig","baseSteps"],_),t}function Lv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>F_(d))),a(t,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&Dv(l,t),t}function Uv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>pi(i))),a(e,["generatedImages"],r)}return e}function Fv(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function zv(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(n,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(n,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(n,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),t}function Vv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let u=Wl(n,r);Array.isArray(u)&&(u=u.map(d=>d)),a(t,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&Fv(i,t);const l=s(e,["model"]);return l!==void 0&&a(t,["requests[]","model"],J(n,l)),t}function Gv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let l=Wl(n,r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&zv(i,t),t}function Hv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(n,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function qv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ev(l))),a(e,["embeddings"],i)}const r=s(n,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function Bv(n){const e={},t=s(n,["endpoint"]);t!=null&&a(e,["name"],t);const o=s(n,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function $v(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Jv(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const r=s(n,["name"]);if(r!=null&&a(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wv(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const o=s(n,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bv(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Kv(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],fi(Ce(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const T=s(e,["frequencyPenalty"]);T!=null&&a(o,["frequencyPenalty"],T);const E=s(e,["seed"]);E!=null&&a(o,["seed"],E);const k=s(e,["responseMimeType"]);k!=null&&a(o,["responseMimeType"],k);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],bl(v));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=s(e,["safetySettings"]);if(t!==void 0&&_!=null){let W=_;Array.isArray(W)&&(W=W.map(ie=>z_(ie))),a(t,["safetySettings"],W)}const C=s(e,["tools"]);if(t!==void 0&&C!=null){let W=bt(C);Array.isArray(W)&&(W=W.map(ie=>J_(Wt(ie)))),a(t,["tools"],W)}const w=s(e,["toolConfig"]);if(t!==void 0&&w!=null&&a(t,["toolConfig"],$_(w)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);t!==void 0&&I!=null&&a(t,["cachedContent"],Sn(n,I));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const R=s(e,["speechConfig"]);if(R!=null&&a(o,["speechConfig"],Kl(R)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(e,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const $=s(e,["imageConfig"]);return $!=null&&a(o,["imageConfig"],E_($)),o}function Yv(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Ce(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const T=s(e,["frequencyPenalty"]);T!=null&&a(o,["frequencyPenalty"],T);const E=s(e,["seed"]);E!=null&&a(o,["seed"],E);const k=s(e,["responseMimeType"]);k!=null&&a(o,["responseMimeType"],k);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],bl(v));const g=s(e,["responseJsonSchema"]);g!=null&&a(o,["responseJsonSchema"],g);const _=s(e,["routingConfig"]);_!=null&&a(o,["routingConfig"],_);const C=s(e,["modelSelectionConfig"]);C!=null&&a(o,["modelConfig"],C);const w=s(e,["safetySettings"]);if(t!==void 0&&w!=null){let he=w;Array.isArray(he)&&(he=he.map(ae=>ae)),a(t,["safetySettings"],he)}const I=s(e,["tools"]);if(t!==void 0&&I!=null){let he=bt(I);Array.isArray(he)&&(he=he.map(ae=>_p(Wt(ae)))),a(t,["tools"],he)}const x=s(e,["toolConfig"]);t!==void 0&&x!=null&&a(t,["toolConfig"],x);const N=s(e,["labels"]);t!==void 0&&N!=null&&a(t,["labels"],N);const R=s(e,["cachedContent"]);t!==void 0&&R!=null&&a(t,["cachedContent"],Sn(n,R));const M=s(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const $=s(e,["mediaResolution"]);$!=null&&a(o,["mediaResolution"],$);const W=s(e,["speechConfig"]);W!=null&&a(o,["speechConfig"],vp(Kl(W)));const ie=s(e,["audioTimestamp"]);ie!=null&&a(o,["audioTimestamp"],ie);const bn=s(e,["thinkingConfig"]);bn!=null&&a(o,["thinkingConfig"],bn);const an=s(e,["imageConfig"]);return an!=null&&a(o,["imageConfig"],T_(an)),o}function xd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(u=>fi(u))),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(t,["generationConfig"],Kv(n,i,t)),t}function wd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["contents"]);if(r!=null){let l=$e(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(t,["generationConfig"],Yv(n,i,t)),t}function Id(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>gv(c))),a(e,["candidates"],d)}const r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(n,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Ad(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["candidates"],c)}const r=s(n,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(n,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(n,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(n,["responseId"]);u!=null&&a(e,["responseId"],u);const d=s(n,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function Ov(n,e){const t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(n,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(n,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const d=s(n,["includeSafetyAttributes"]);e!==void 0&&d!=null&&a(e,["parameters","includeSafetyAttributes"],d);const c=s(n,["includeRaiReason"]);e!==void 0&&c!=null&&a(e,["parameters","includeRaiReason"],c);const f=s(n,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const m=s(n,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const p=s(n,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=s(n,["imageSize"]);if(e!==void 0&&y!=null&&a(e,["parameters","sampleImageSize"],y),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function Qv(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(n,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const y=s(n,["language"]);e!==void 0&&y!=null&&a(e,["parameters","language"],y);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const E=s(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);const k=s(n,["addWatermark"]);e!==void 0&&k!=null&&a(e,["parameters","addWatermark"],k);const v=s(n,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const g=s(n,["imageSize"]);e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g);const _=s(n,["enhancePrompt"]);return e!==void 0&&_!=null&&a(e,["parameters","enhancePrompt"],_),t}function Xv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&Ov(i,t),t}function Zv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&Qv(i,t),t}function jv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>c_(l))),a(e,["generatedImages"],i)}const r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],gp(r)),e}function e_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>pi(l))),a(e,["generatedImages"],i)}const r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],yp(r)),e}function n_(n,e){const t={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(n,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(n,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(n,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(n,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(n,["negativePrompt"]);e!==void 0&&d!=null&&a(e,["parameters","negativePrompt"],d);const c=s(n,["enhancePrompt"]);if(e!==void 0&&c!=null&&a(e,["parameters","enhancePrompt"],c),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(n,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],mi(f));const m=s(n,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(y=>oE(y))),a(e,["instances[0]","referenceImages"],p)}if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function t_(n,e){const t={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(n,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(n,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(n,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const d=s(n,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const c=s(n,["resolution"]);e!==void 0&&c!=null&&a(e,["parameters","resolution"],c);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(n,["pubsubTopic"]);e!==void 0&&m!=null&&a(e,["parameters","pubsubTopic"],m);const p=s(n,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const y=s(n,["enhancePrompt"]);e!==void 0&&y!=null&&a(e,["parameters","enhancePrompt"],y);const T=s(n,["generateAudio"]);e!==void 0&&T!=null&&a(e,["parameters","generateAudio"],T);const E=s(n,["lastFrame"]);e!==void 0&&E!=null&&a(e,["instances[0]","lastFrame"],en(E));const k=s(n,["referenceImages"]);if(e!==void 0&&k!=null){let _=k;Array.isArray(_)&&(_=_.map(C=>rE(C))),a(e,["instances[0]","referenceImages"],_)}const v=s(n,["mask"]);e!==void 0&&v!=null&&a(e,["instances[0]","mask"],tE(v));const g=s(n,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),t}function o_(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],l_(l)),e}function r_(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],a_(l)),e}function i_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],mi(i));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],Ep(l));const u=s(e,["source"]);u!=null&&u_(u,t);const d=s(e,["config"]);return d!=null&&n_(d,t),t}function s_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],en(i));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],Tp(l));const u=s(e,["source"]);u!=null&&d_(u,t);const d=s(e,["config"]);return d!=null&&t_(d,t),t}function l_(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>p_(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function a_(n){const e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>m_(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function u_(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],mi(r));const i=s(n,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Ep(i)),t}function d_(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],en(r));const i=s(n,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Tp(i)),t}function c_(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],C_(t));const o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(n,["_self"]);return r!=null&&a(e,["safetyAttributes"],gp(r)),e}function pi(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],hp(t));const o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(n,["_self"]);r!=null&&a(e,["safetyAttributes"],yp(r));const i=s(n,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function f_(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["mask"],hp(t));const o=s(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function p_(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],eE(t)),e}function m_(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],nE(t)),e}function h_(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const o=s(n,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(n,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(n,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(n,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(n,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(n,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const y=s(n,["responseMimeType"]);y!=null&&a(e,["responseMimeType"],y);const T=s(n,["responseModalities"]);T!=null&&a(e,["responseModalities"],T);const E=s(n,["responseSchema"]);E!=null&&a(e,["responseSchema"],E);const k=s(n,["routingConfig"]);k!=null&&a(e,["routingConfig"],k);const v=s(n,["seed"]);v!=null&&a(e,["seed"],v);const g=s(n,["speechConfig"]);g!=null&&a(e,["speechConfig"],vp(g));const _=s(n,["stopSequences"]);_!=null&&a(e,["stopSequences"],_);const C=s(n,["temperature"]);C!=null&&a(e,["temperature"],C);const w=s(n,["thinkingConfig"]);w!=null&&a(e,["thinkingConfig"],w);const I=s(n,["topK"]);I!=null&&a(e,["topK"],I);const x=s(n,["topP"]);if(x!=null&&a(e,["topP"],x),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function g_(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],J(n,o)),t}function y_(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],J(n,o)),t}function v_(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function __(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function E_(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const o=s(n,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function T_(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const o=s(n,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(n,["outputMimeType"]);r!=null&&a(e,["imageOutputOptions","mimeType"],r);const i=s(n,["outputCompressionQuality"]);return i!=null&&a(e,["imageOutputOptions","compressionQuality"],i),e}function C_(n){const e={},t=s(n,["bytesBase64Encoded"]);t!=null&&a(e,["imageBytes"],Wn(t));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function hp(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function mi(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(n,["imageBytes"]);t!=null&&a(e,["bytesBase64Encoded"],Wn(t));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function en(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function S_(n,e,t){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],lp(n,u)),o}function x_(n,e,t){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],lp(n,u)),o}function w_(n,e){const t={},o=s(e,["config"]);return o!=null&&S_(n,o,t),t}function I_(n,e){const t={},o=s(e,["config"]);return o!=null&&x_(n,o,t),t}function A_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["_self"]);if(r!=null){let i=ap(r);Array.isArray(i)&&(i=i.map(l=>Js(l))),a(e,["models"],i)}return e}function k_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["_self"]);if(r!=null){let i=ap(r);Array.isArray(i)&&(i=i.map(l=>Ws(l))),a(e,["models"],i)}return e}function N_(n){const e={},t=s(n,["maskMode"]);t!=null&&a(e,["maskMode"],t);const o=s(n,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(n,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function Js(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const i=s(n,["version"]);i!=null&&a(e,["version"],i);const l=s(n,["_self"]);l!=null&&a(e,["tunedModelInfo"],W_(l));const u=s(n,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const d=s(n,["outputTokenLimit"]);d!=null&&a(e,["outputTokenLimit"],d);const c=s(n,["supportedGenerationMethods"]);c!=null&&a(e,["supportedActions"],c);const f=s(n,["temperature"]);f!=null&&a(e,["temperature"],f);const m=s(n,["maxTemperature"]);m!=null&&a(e,["maxTemperature"],m);const p=s(n,["topP"]);p!=null&&a(e,["topP"],p);const y=s(n,["topK"]);y!=null&&a(e,["topK"],y);const T=s(n,["thinking"]);return T!=null&&a(e,["thinking"],T),e}function Ws(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const i=s(n,["versionId"]);i!=null&&a(e,["version"],i);const l=s(n,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>Bv(p))),a(e,["endpoints"],m)}const u=s(n,["labels"]);u!=null&&a(e,["labels"],u);const d=s(n,["_self"]);d!=null&&a(e,["tunedModelInfo"],b_(d));const c=s(n,["defaultCheckpointId"]);c!=null&&a(e,["defaultCheckpointId"],c);const f=s(n,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),a(e,["checkpoints"],m)}return e}function P_(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],$v(i));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],Jv(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],hv(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function R_(n){const e={},t=s(n,["productImage"]);return t!=null&&a(e,["image"],en(t)),e}function M_(n,e){const t={},o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(n,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(n,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const d=s(n,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const c=s(n,["addWatermark"]);e!==void 0&&c!=null&&a(e,["parameters","addWatermark"],c);const f=s(n,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const m=s(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m);const p=s(n,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const y=s(n,["labels"]);return e!==void 0&&y!=null&&a(e,["labels"],y),t}function D_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["source"]);r!=null&&U_(r,t);const i=s(e,["config"]);return i!=null&&M_(i,t),t}function L_(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>pi(r))),a(e,["generatedImages"],o)}return e}function U_(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],en(r));const i=s(n,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>R_(u))),a(e,["instances[0]","productImages"],l)}return t}function F_(n){const e={},t=s(n,["referenceImage"]);t!=null&&a(e,["referenceImage"],en(t));const o=s(n,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(n,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(n,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],N_(i));const l=s(n,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],Cv(l));const u=s(n,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const d=s(n,["subjectImageConfig"]);return d!=null&&a(e,["subjectImageConfig"],d),e}function gp(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function yp(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function z_(n){const e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function V_(n){const e={},t=s(n,["image"]);return t!=null&&a(e,["image"],en(t)),e}function G_(n,e){const t={},o=s(n,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(n,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(n,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(n,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const d=s(n,["labels"]);return e!==void 0&&d!=null&&a(e,["labels"],d),t}function H_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["source"]);r!=null&&B_(r,t);const i=s(e,["config"]);return i!=null&&G_(i,t),t}function q_(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>f_(r))),a(e,["generatedMasks"],o)}return e}function B_(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],en(r));const i=s(n,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],V_(i)),t}function vp(n){const e={},t=s(n,["languageCode"]);t!=null&&a(e,["languageCode"],t);const o=s(n,["voiceConfig"]);if(o!=null&&a(e,["voiceConfig"],o),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function $_(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],Wv(t));const o=s(n,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function J_(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],v_(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],__(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function _p(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>bv(p))),a(e,["functionDeclarations"],m)}const o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(n,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(n,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function W_(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function b_(n){const e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function K_(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),t}function Y_(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),t}function O_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],J(n,o));const r=s(e,["config"]);return r!=null&&K_(r,t),t}function Q_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["config"]);return r!=null&&Y_(r,t),t}function X_(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(n,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(n,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","compressionQuality"],d);const c=s(n,["enhanceInputImage"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(n,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(n,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const y=s(n,["mode"]);return e!==void 0&&y!=null&&a(e,["parameters","mode"],y),t}function Z_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],J(n,o));const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],en(r));const i=s(e,["upscaleFactor"]);i!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&X_(l,t),t}function j_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>pi(i))),a(e,["generatedImages"],r)}return e}function eE(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Wn(o));const r=s(n,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function nE(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function tE(n){const e={},t=s(n,["image"]);t!=null&&a(e,["_self"],en(t));const o=s(n,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function oE(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],mi(t));const o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function rE(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],en(t));const o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Ep(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["videoBytes"]);o!=null&&a(e,["encodedVideo"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function Tp(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),t}function sE(n){const e={},t=s(n,["config"]);return t!=null&&iE(t,e),e}function lE(n,e){const t={},o=s(n,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),t}function aE(n){const e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);const o=s(n,["config"]);return o!=null&&lE(o,e),e}function uE(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function dE(n,e){const t={},o=s(n,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(n,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),t}function cE(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],pE(l)),e}function fE(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);const o=s(n,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(n,["config"]);return r!=null&&dE(r,e),e}function pE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&a(e,["parent"],o);const r=s(n,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function mE(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function hE(n){const e={},t=s(n,["config"]);return t!=null&&mE(t,e),e}function gE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function Cp(n,e){const t={},o=s(n,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(n,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),a(e,["customMetadata"],u)}const l=s(n,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),t}function yE(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);const o=s(n,["config"]);return o!=null&&Cp(o,e),e}function vE(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _E="Content-Type",EE="X-Server-Timeout",TE="User-Agent",bs="x-goog-api-client",CE="1.31.0",SE=`google-genai-sdk/${CE}`,xE="v1beta1",wE="v1beta",kd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class IE{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:xE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(t))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o,r){if(t&&t.timeout||r){const i=new AbortController,l=i.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>i.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return t&&t.extraBody!==null&&AE(e,t.extraBody),e.headers=await this.getHeadersInternal(t,o),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await Nd(r),new qs(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await Nd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Dt(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield O(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),y=p.status,T=p.code,E=`got status: ${y}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new ci({message:E,status:T})}}catch(m){if(m.name==="ApiError")throw m}l+=c;let f=l.match(kd);for(;f;){const m=f[1];try{const p=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield O(new qs(p)),l=l.slice(f[0].length),f=l.match(kd)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=SE+" "+this.clientOptions.userAgentExtra;return e[TE]=t,e[bs]=t,e[_E]="application/json",e}async getHeadersInternal(e,t){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(EE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,t),o}getFileName(e){var t;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}async uploadFile(e,t){var o;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d={file:r},c=this.getFileName(e),f=P("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,t==null?void 0:t.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,t,o){var r;const i=this.clientOptions.uploader,l=await i.stat(t),u=String(l.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),m={};o!=null&&Cp(o,m);const p=await this.fetchUploadUrl(c,u,d,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(t,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,o,r,i,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Nd(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw t>=400&&t<600?new ci({message:r,status:t}):new Error(r)}}function AE(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const i=JSON.parse(n.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const r=o(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kE="mcp_used/unknown";let NE=!1;function Sp(n){for(const e of n)if(PE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return NE}function xp(n){var e;const t=(e=n[bs])!==null&&e!==void 0?e:"";n[bs]=(t+` ${kE}`).trimStart()}function PE(n){return n!==null&&typeof n=="object"&&n instanceof Ol}function RE(n,e=100){return Dt(this,arguments,function*(){let o,r=0;for(;r<e;){const i=yield O(n.listTools({cursor:o}));for(const l of i.tools)yield yield O(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Ol{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ol(e,t)}async initialize(){var e,t,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(t=void 0,_o(RE(f))),c;c=await d.next(),e=c.done,!e;u=!0){r=c.value,u=!1;const m=r;l.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){t={error:m}}finally{try{!u&&!e&&(o=d.return)&&await o.call(d)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),uy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ME(n,e,t){const o=new ny;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),e(o)}class DE{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=FE(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(_=>{c=_}),m=e.callbacks,p=function(){c({})},y=this.apiClient,T={onopen:p,onmessage:_=>{ME(y,m.onmessage,_)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(_){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(_){}},E=this.webSocketFactory.create(d,UE(l),T);E.connect(),await f;const g={setup:{model:J(this.apiClient,e.model)}};return E.send(JSON.stringify(g)),new LE(E,this.apiClient)}}class LE{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=sv(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=iv(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(wt.PLAY)}pause(){this.sendPlaybackControl(wt.PAUSE)}stop(){this.sendPlaybackControl(wt.STOP)}resetContext(){this.sendPlaybackControl(wt.RESET_CONTEXT)}close(){this.conn.close()}}function UE(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function FE(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VE(n,e,t){const o=new ey;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const i=JSON.parse(r);if(n.isVertexAI()){const l=uv(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class GE{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new DE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Sp(e.config.tools)&&xp(m);const p=$E(m);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const R=this.apiClient.getApiKey();let M="BidiGenerateContent",$="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",$="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${M}?${$}=${R}`}let y=()=>{};const T=new Promise(R=>{y=R}),E=e.callbacks,k=function(){var R;(R=E==null?void 0:E.onopen)===null||R===void 0||R.call(E),y({})},v=this.apiClient,g={onopen:k,onmessage:R=>{VE(v,E.onmessage,R)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(R){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(R){}},_=this.webSocketFactory.create(f,BE(p),g);_.connect(),await T;let C=J(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const R=this.apiClient.getProject(),M=this.apiClient.getLocation();C=`projects/${R}/locations/${M}/`+C}let w={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[st.AUDIO]}:e.config.responseModalities=[st.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],x=[];for(const R of I)if(this.isCallableTool(R)){const M=R;x.push(await M.tool())}else x.push(R);x.length>0&&(e.config.tools=x);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=rv(this.apiClient,N):w=ov(this.apiClient,N),delete w.config,_.send(JSON.stringify(w)),new qE(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const HE={turnComplete:!0};class qE{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=$e(t.turns),e.isVertexAI()||(o=o.map(r=>fi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(zE)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},HE),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:av(e)}:t={realtimeInput:lv(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function BE(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function $E(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pd=10;function Rd(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Lt(l)){r=!0;break}if(!r)return!0;const i=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Lt(n){return"callTool"in n&&typeof n.callTool=="function"}function JE(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Lt(r)))!==null&&o!==void 0?o:!1}function Md(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(Lt(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&t.push(r)}),t}function Dd(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends Cn{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,r,i,l,u;const d=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!JE(t)||Rd(t.config))return await this.generateContentInternal(d);const c=Md(t);if(c.length>0){const E=c.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,m;const p=$e(d.contents),y=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Pd;let T=0;for(;T<y&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,k=[];for(const v of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Lt(v)){const _=await v.callTool(f.functionCalls);k.push(..._)}T++,m={role:"user",parts:k},d.contents=$e(d.contents),d.contents.push(E),d.contents.push(m),Dd(d.config)&&(p.push(E),p.push(m))}return Dd(d.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(t),Rd(t.config)){const m=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(m)}const d=Md(t);if(d.length>0){const m=d.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(r=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:l.push(d);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async t=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ut(En.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var o,r,i,l,u,d;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(i=t.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((d=(u=t.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,r;const i=(t=e.config)===null||t===void 0?void 0:t.tools;if(!i)return e;const l=await Promise.all(i.map(async d=>Lt(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Sp(e.config.tools)){const d=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),xp(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var t,o,r;const i=new Map;for(const l of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Lt(l)){const u=l,d=await u.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var t,o,r;const i=(r=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Pd;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,f,m){var p,y;return Dt(this,arguments,function*(){for(var T,E,k,v;u<i;){l&&(u++,l=!1);const w=yield O(c.processParamsMaybeAddMcpUsage(m)),I=yield O(c.generateContentStreamInternal(w)),x=[],N=[];try{for(var g=!0,_=(E=void 0,_o(I)),C;C=yield O(_.next()),T=C.done,!T;g=!0){v=C.value,g=!1;const R=v;if(yield yield O(R),R.candidates&&(!((p=R.candidates[0])===null||p===void 0)&&p.content)){N.push(R.candidates[0].content);for(const M of(y=R.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(M.functionCall.name)){const $=yield O(f.get(M.functionCall.name).callTool([M.functionCall]));x.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(R){E={error:R}}finally{try{!g&&!T&&(k=_.return)&&(yield O(k.call(_)))}finally{if(E)throw E.error}}if(x.length>0){l=!0;const R=new ro;R.candidates=[{content:{role:"user",parts:x}}],yield yield O(R);const M=[];M.push(...N),M.push({role:"user",parts:x});const $=$e(m.contents).concat(M);m.contents=$}else break}})}(this,d,e)}async generateContentInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wd(this.apiClient,e);return u=P("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Ad(f),p=new ro;return Object.assign(p,m),p})}else{const c=xd(this.apiClient,e);return u=P("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Id(f),p=new ro;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wd(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Dt(this,arguments,function*(){var p,y,T,E;try{for(var k=!0,v=_o(m),g;g=yield O(v.next()),p=g.done,!p;k=!0){E=g.value,k=!1;const _=E,C=Ad(yield O(_.json()));C.sdkHttpResponse={headers:_.headers};const w=new ro;Object.assign(w,C),yield yield O(w)}}catch(_){y={error:_}}finally{try{!k&&!p&&(T=v.return)&&(yield O(T.call(v)))}finally{if(y)throw y.error}}})})}else{const c=xd(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return Dt(this,arguments,function*(){var p,y,T,E;try{for(var k=!0,v=_o(m),g;g=yield O(v.next()),p=g.done,!p;k=!0){E=g.value,k=!1;const _=E,C=Id(yield O(_.json()));C.sdkHttpResponse={headers:_.headers};const w=new ro;Object.assign(w,C),yield yield O(w)}}catch(_){y={error:_}}finally{try{!k&&!p&&(T=v.return)&&(yield O(T.call(v)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Gv(this.apiClient,e);return u=P("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=qv(f),p=new ld;return Object.assign(p,m),p})}else{const c=Vv(this.apiClient,e);return u=P("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Hv(f),p=new ld;return Object.assign(p,m),p})}}async generateImagesInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Zv(this.apiClient,e);return u=P("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=e_(f),p=new ad;return Object.assign(p,m),p})}else{const c=Xv(this.apiClient,e);return u=P("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=jv(f),p=new ad;return Object.assign(p,m),p})}}async editImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Lv(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Uv(d),f=new $g;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Z_(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=j_(d),f=new Jg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=D_(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=L_(d),f=new Wg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=H_(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=q_(d),f=new bg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=y_(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ws(f))}else{const c=g_(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}}async listInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=I_(this.apiClient,e);return u=P("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=k_(f),p=new ud;return Object.assign(p,m),p})}else{const c=w_(this.apiClient,e);return u=P("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=A_(f),p=new ud;return Object.assign(p,m),p})}}async update(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Q_(this.apiClient,e);return u=P("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ws(f))}else{const c=O_(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}}async delete(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Pv(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Mv(f),p=new dd;return Object.assign(p,m),p})}else{const c=Nv(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Rv(f),p=new dd;return Object.assign(p,m),p})}}async countTokens(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Iv(this.apiClient,e);return u=P("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=kv(f),p=new cd;return Object.assign(p,m),p})}else{const c=wv(this.apiClient,e);return u=P("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Av(f),p=new cd;return Object.assign(p,m),p})}}async computeTokens(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=vv(this.apiClient,e);return i=P("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=_v(d),f=new Kg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=s_(this.apiClient,e);return u=P("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=r_(f),p=new Wr;return Object.assign(p,m),p})}else{const c=i_(this.apiClient,e);return u=P("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=o_(f),p=new Wr;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bE extends Cn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=zg(e);return u=P("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const c=Fg(e);return u=P("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Ng(e);return i=P("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function YE(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>oT(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function OE(n,e,t){const o={},r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);t!==void 0&&i!=null&&a(t,["newSessionExpireTime"],i);const l=s(e,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],tT(n,u));const d=s(e,["lockAdditionalFields"]);return t!==void 0&&d!=null&&a(t,["fieldMask"],d),o}function QE(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],OE(n,o,t)),t}function XE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ZE(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const r=s(n,["name"]);if(r!=null&&a(e,["name"],r),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jE(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function eT(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function nT(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(n,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(n,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Yl(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const y=s(n,["enableAffectiveDialog"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],y);const T=s(n,["systemInstruction"]);e!==void 0&&T!=null&&a(e,["setup","systemInstruction"],YE(Ce(T)));const E=s(n,["tools"]);if(e!==void 0&&E!=null){let I=bt(E);Array.isArray(I)&&(I=I.map(x=>iT(Wt(x)))),a(e,["setup","tools"],I)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&a(e,["setup","sessionResumption"],rT(k));const v=s(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const _=s(n,["realtimeInputConfig"]);e!==void 0&&_!=null&&a(e,["setup","realtimeInputConfig"],_);const C=s(n,["contextWindowCompression"]);e!==void 0&&C!=null&&a(e,["setup","contextWindowCompression"],C);const w=s(n,["proactivity"]);return e!==void 0&&w!=null&&a(e,["setup","proactivity"],w),t}function tT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],J(n,o));const r=s(e,["config"]);return r!=null&&a(t,["config"],nT(r,t)),t}function oT(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],XE(i));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],ZE(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],KE(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const m=s(n,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function rT(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iT(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],jE(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],eT(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${t}.${i}`);e.push(...r)}else e.push(t)}return e.join(",")}function lT(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(n.bidiGenerateContentSetup=i,t=i):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const i=sT(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?n.fieldMask=i:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?n.fieldMask=d.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class aT extends Cn{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=QE(this.apiClient,e);i=P("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=lT(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(n,e){const t={},o=s(n,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),t}function dT(n){const e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);const o=s(n,["config"]);return o!=null&&uT(o,e),e}function cT(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function fT(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function pT(n){const e={},t=s(n,["parent"]);t!=null&&a(e,["_url","parent"],t);const o=s(n,["config"]);return o!=null&&fT(o,e),e}function mT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hT extends Cn{constructor(e){super(),this.apiClient=e,this.list=async t=>new ut(En.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),await this.listInternal(t),t)}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cT(e);return i=P("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dT(e);r=P("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pT(e);return i=P("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=mT(d),f=new Yg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gT extends Cn{constructor(e,t=new hT(e)){super(),this.apiClient=e,this.documents=t,this.list=async(o={})=>new ut(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sE(e);return i=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uE(e);return i=P("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=aE(e);r=P("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hE(e);return i=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=gE(d),f=new Og;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yE(e);return i=P("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=vE(d),f=new Qg;return Object.assign(f,c),f})}}async importFile(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fE(e);return i=P("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=cE(d),f=new $l;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function vT(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function _T(n,e){const t={},o=s(n,["sdkHttpResponse"]);return o!=null&&a(t,["sdkHttpResponse"],o),t}function ET(n,e){const t={},o=s(n,["sdkHttpResponse"]);return o!=null&&a(t,["sdkHttpResponse"],o),t}function TT(n,e,t){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(n,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(n,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(n,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const d=s(n,["learningRate"]);if(e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","learningRate"],d),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function CT(n,e,t){const o={};let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=s(n,["validationDataset"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec"],Ld(y))}else if(r==="PREFERENCE_TUNING"){const y=s(n,["validationDataset"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec"],Ld(y))}const i=s(n,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(n,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=s(n,["epochCount"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=s(n,["epochCount"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let d=s(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=s(n,["learningRateMultiplier"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(d==="PREFERENCE_TUNING"){const y=s(n,["learningRateMultiplier"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let c=s(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(c==="PREFERENCE_TUNING"){const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=s(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=s(n,["adapterSize"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=s(n,["adapterSize"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(n,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(n,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function ST(n,e){const t={},o=s(n,["baseModel"]);o!=null&&a(t,["baseModel"],o);const r=s(n,["preTunedModel"]);r!=null&&a(t,["preTunedModel"],r);const i=s(n,["trainingDataset"]);i!=null&&LT(i);const l=s(n,["config"]);return l!=null&&TT(l,t),t}function xT(n,e){const t={},o=s(n,["baseModel"]);o!=null&&a(t,["baseModel"],o);const r=s(n,["preTunedModel"]);r!=null&&a(t,["preTunedModel"],r);const i=s(n,["trainingDataset"]);i!=null&&UT(i,t,e);const l=s(n,["config"]);return l!=null&&CT(l,t,e),t}function wT(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function IT(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function AT(n,e,t){const o={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(n,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function kT(n,e,t){const o={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(n,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function NT(n,e){const t={},o=s(n,["config"]);return o!=null&&AT(o,t),t}function PT(n,e){const t={},o=s(n,["config"]);return o!=null&&kT(o,t),t}function RT(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(n,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=s(n,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>wp(u))),a(t,["tuningJobs"],l)}return t}function MT(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(n,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=s(n,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ks(u))),a(t,["tuningJobs"],l)}return t}function DT(n,e){const t={},o=s(n,["name"]);o!=null&&a(t,["model"],o);const r=s(n,["name"]);return r!=null&&a(t,["endpoint"],r),t}function LT(n,e){const t={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["examples","examples"],r)}return t}function UT(n,e,t){const o={};let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function wp(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(n,["name"]);r!=null&&a(t,["name"],r);const i=s(n,["state"]);i!=null&&a(t,["state"],ip(i));const l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(n,["tuningTask","startTime"]);u!=null&&a(t,["startTime"],u);const d=s(n,["tuningTask","completeTime"]);d!=null&&a(t,["endTime"],d);const c=s(n,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(n,["description"]);f!=null&&a(t,["description"],f);const m=s(n,["baseModel"]);m!=null&&a(t,["baseModel"],m);const p=s(n,["_self"]);return p!=null&&a(t,["tunedModel"],DT(p)),t}function Ks(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(n,["name"]);r!=null&&a(t,["name"],r);const i=s(n,["state"]);i!=null&&a(t,["state"],ip(i));const l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(t,["startTime"],u);const d=s(n,["endTime"]);d!=null&&a(t,["endTime"],d);const c=s(n,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(n,["error"]);f!=null&&a(t,["error"],f);const m=s(n,["description"]);m!=null&&a(t,["description"],m);const p=s(n,["baseModel"]);p!=null&&a(t,["baseModel"],p);const y=s(n,["tunedModel"]);y!=null&&a(t,["tunedModel"],y);const T=s(n,["preTunedModel"]);T!=null&&a(t,["preTunedModel"],T);const E=s(n,["supervisedTuningSpec"]);E!=null&&a(t,["supervisedTuningSpec"],E);const k=s(n,["preferenceOptimizationSpec"]);k!=null&&a(t,["preferenceOptimizationSpec"],k);const v=s(n,["tuningDataStats"]);v!=null&&a(t,["tuningDataStats"],v);const g=s(n,["encryptionSpec"]);g!=null&&a(t,["encryptionSpec"],g);const _=s(n,["partnerModelTuningSpec"]);_!=null&&a(t,["partnerModelTuningSpec"],_);const C=s(n,["customBaseModel"]);C!=null&&a(t,["customBaseModel"],C);const w=s(n,["experiment"]);w!=null&&a(t,["experiment"],w);const I=s(n,["labels"]);I!=null&&a(t,["labels"],I);const x=s(n,["outputUri"]);x!=null&&a(t,["outputUri"],x);const N=s(n,["pipelineJob"]);N!=null&&a(t,["pipelineJob"],N);const R=s(n,["serviceAccount"]);R!=null&&a(t,["serviceAccount"],R);const M=s(n,["tunedModelDisplayName"]);M!=null&&a(t,["tunedModelDisplayName"],M);const $=s(n,["veoTuningSpec"]);return $!=null&&a(t,["veoTuningSpec"],$),t}function FT(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(n,["name"]);r!=null&&a(t,["name"],r);const i=s(n,["metadata"]);i!=null&&a(t,["metadata"],i);const l=s(n,["done"]);l!=null&&a(t,["done"],l);const u=s(n,["error"]);return u!=null&&a(t,["error"],u),t}function Ld(n,e){const t={},o=s(n,["gcsUri"]);o!=null&&a(t,["validationDatasetUri"],o);const r=s(n,["vertexDatasetResource"]);return r!=null&&a(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zT extends Cn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ut(En.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},t),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Hs.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=IT(e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Ks(f))}else{const c=wT(e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>wp(f))}}async listInternal(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=PT(e);return u=P("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=MT(f),p=new fd;return Object.assign(p,m),p})}else{const c=NT(e);return u=P("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=RT(f),p=new fd;return Object.assign(p,m),p})}}async cancel(e){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=vT(e);return u=P("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ET(f),p=new pd;return Object.assign(p,m),p})}else{const c=yT(e);return u=P("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=_T(f),p=new pd;return Object.assign(p,m),p})}}async tuneInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=xT(e,e);return i=P("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>Ks(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ST(e);return i=P("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>FT(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VT{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GT=1024*1024*8,HT=3,qT=1e3,BT=2,Kr="x-goog-upload-status";async function $T(n,e,t){var o;const r=await Ip(n,e,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Kr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function JT(n,e,t){var o;const r=await Ip(n,e,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Kr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=jf(i),u=new Jl;return Object.assign(u,l),u}async function Ip(n,e,t){var o,r;let i=0,l=0,u=new qs(new Response),d="upload";for(i=n.size;l<i;){const c=Math.min(GT,i-l),f=n.slice(l,l+c);l+c>=i&&(d+=", finalize");let m=0,p=qT;for(;m<HT&&(u=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Kr]));)m++,await bT(p),p=p*BT;if(l+=c,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Kr])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function WT(n){return{size:n.size,type:n.type}}function bT(n){return new Promise(e=>setTimeout(e,n))}class KT{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $T(e,t,o)}async uploadToFileSearchStore(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JT(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YT{create(e,t,o){return new OT(e,t,o)}}class OT{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ud="x-goog-api-key";class QT{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Ud)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ud,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XT="gl-node/";class Ql{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=Ag(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new QT(this.apiKey);this.apiClient=new IE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:XT+"web",uploader:new KT,downloader:new VT}),this.models=new WE(this.apiClient),this.live=new GE(this.apiClient,r,new YT),this.batches=new t0(this.apiClient),this.chats=new z0(this.models,this.apiClient),this.caches=new L0(this.apiClient),this.files=new K0(this.apiClient),this.operations=new bE(this.apiClient),this.authTokens=new aT(this.apiClient),this.tunings=new zT(this.apiClient),this.fileSearchStores=new gT(this.apiClient)}}var Xl={TERM_PROGRAM:"Apple_Terminal",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/george/Dropbox/Personal/MacMini/Python/globalautomation.online",TERM:"xterm-256color",SHELL:"/bin/bash",TMPDIR:"/var/folders/t6/_6bgvsh933ncnjq1408_30jw0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"453",COLOR:"1",TERM_SESSION_ID:"03BD93ED-4266-46B5-A8EF-71B193AF8BB1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/george/Dropbox/Personal/MacMini/Python/globalautomation.online",USER:"george",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.F7yrkQI77p/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/george/Dropbox/Personal/MacMini/Python/globalautomation.online/node_modules/.bin:/Users/george/Dropbox/Personal/MacMini/Python/node_modules/.bin:/Users/george/Dropbox/Personal/MacMini/node_modules/.bin:/Users/george/Dropbox/Personal/node_modules/.bin:/Users/george/Dropbox/node_modules/.bin:/Users/george/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/local/bin:/opt/local/sbin:/Library/Frameworks/Python.framework/Versions/3.11/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/opt/X11/bin:/Library/Apple/usr/bin:/Users/george/.local/bin",npm_package_json:"/Users/george/Dropbox/Personal/MacMini/Python/globalautomation.online/package.json",_:"/Users/george/Dropbox/Personal/MacMini/Python/globalautomation.online/node_modules/.bin/vite",npm_config_userconfig:"/Users/george/.npmrc",npm_config_init_module:"/Users/george/.npm-init.js",__CFBundleIdentifier:"com.apple.Terminal",npm_command:"run-script",PWD:"/Users/george/Dropbox/Personal/MacMini/Python/globalautomation.online",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"sku-mockup-foundry",npm_config_npm_version:"11.1.0",XPC_FLAGS:"0x0",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"1.0.0",XPC_SERVICE_NAME:"0",HOME:"/Users/george",SHLVL:"2",npm_config_cache:"/Users/george/.npm",LOGNAME:"george",npm_lifecycle_script:"vite build",LC_CTYPE:"UTF-8",npm_config_user_agent:"npm/11.1.0 node/v22.14.0 darwin arm64 workspaces/false",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",NODE_ENV:"production"};const Yr=n=>n.split(",")[1],ZT=async(n,e,t)=>{var o,r;try{const i=new Ql({apiKey:Xl.API_KEY}),l="gemini-3-pro-image-preview",u=[{inlineData:{mimeType:n.mimeType,data:Yr(n.data)}}];let d="";e.forEach((p,y)=>{u.push({inlineData:{mimeType:p.asset.mimeType,data:Yr(p.asset.data)}});const T=p.placement.y<33?"top":p.placement.y>66?"bottom":"center",E=p.placement.x<33?"left":p.placement.x>66?"right":"center";d+=`
- Logo ${y+1}: Place at ${T}-${E} area (approx coords: ${Math.round(p.placement.x)}% x, ${Math.round(p.placement.y)}% y). Scale: ${p.placement.scale}.`});const c=`
    User Instructions: ${t}
    
    Layout Guidance based on user's rough placement on canvas:
    ${d}

    System Task: Composite the provided logo images (images 2-${e.length+1}) onto the first image (the product) to create a realistic product mockup. 
    Follow the Layout Guidance for positioning if provided, but prioritize realistic surface warping, lighting, and perspective blending.
    Output ONLY the resulting image.
    `;u.push({text:c});const m=(await i.models.generateContent({model:l,contents:{parts:u},config:{responseModalities:[st.IMAGE]}})).candidates;if(m&&((r=(o=m[0])==null?void 0:o.content)!=null&&r.parts)){for(const p of m[0].content.parts)if(p.inlineData&&p.inlineData.data)return`data:image/png;base64,${p.inlineData.data}`}throw new Error("No image data found in response")}catch(i){throw console.error("Mockup generation failed:",i),i}},jT=async(n,e)=>{var t,o;try{const r=new Ql({apiKey:Xl.API_KEY}),i="gemini-3-pro-image-preview",l=e==="logo"?`A high-quality, professional vector-style logo design of a ${n}. Isolated on a pure white background. Minimalist and clean, single distinct logo.`:`Professional studio product photography of a single ${n}. Ghost mannequin style or flat lay. Front view, isolated on neutral background. High resolution, photorealistic. Single object only, no stacks, no duplicates.`,d=(await r.models.generateContent({model:i,contents:{parts:[{text:l}]},config:{responseModalities:[st.IMAGE]}})).candidates;if(d&&((o=(t=d[0])==null?void 0:t.content)!=null&&o.parts)){for(const c of d[0].content.parts)if(c.inlineData&&c.inlineData.data)return`data:image/png;base64,${c.inlineData.data}`}throw new Error("No image generated")}catch(r){throw console.error("Asset generation failed:",r),r}},eC=async(n,e,t,o)=>{var r,i;try{const l=new Ql({apiKey:Xl.API_KEY}),u="gemini-3-pro-image-preview",d=[];n.forEach((p,y)=>{d.push({inlineData:{mimeType:p.mimeType,data:Yr(p.data)}})}),e.forEach((p,y)=>{d.push({inlineData:{mimeType:p.mimeType,data:Yr(p.data)}})});const c=`
      Task: Create a professional, high-end product photograph.
      
      Input Data:
      - The first ${n.length} images are the PRODUCT(S) to be featured. Maintain their visual identity, logos, and details exactly.
      - The subsequent ${e.length} images are STYLE REFERENCES. Mimic their lighting, mood, composition, and environment.
      
      User Instructions: ${t}
      
      Requirements:
      - Photorealistic 8k quality.
      - Professional studio lighting or natural environment as specified.
      - Seamless integration of product into the scene.
      
      Output ONLY the generated image.
    `;d.push({text:c});const m=(await l.models.generateContent({model:u,contents:{parts:d},config:{responseModalities:[st.IMAGE],imageConfig:{aspectRatio:o}}})).candidates;if(m&&((i=(r=m[0])==null?void 0:r.content)!=null&&i.parts)){for(const p of m[0].content.parts)if(p.inlineData&&p.inlineData.data)return`data:image/png;base64,${p.inlineData.data}`}throw new Error("No image generated")}catch(l){throw console.error("Product Photography generation failed:",l),l}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const nC=()=>{const[n,e]=q.useState(!1),t=q.useCallback(async()=>{const r=window.aistudio;if(r)try{if(!await r.hasSelectedApiKey())return e(!0),!1}catch(i){return console.warn("API Key check failed",i),e(!0),!1}return!0},[]);q.useEffect(()=>{t()},[t]);const o=q.useCallback(async()=>{e(!1);const r=window.aistudio;r&&await r.openSelectKey()},[]);return{showApiKeyDialog:n,setShowApiKeyDialog:e,validateApiKey:t,handleApiKeyDialogContinue:o}},tC=({onContinue:n})=>h.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/80 flex items-center justify-center z-[200] p-4 animate-fade-in backdrop-blur-sm",children:h.jsxs("div",{className:"glass-panel bg-white/95 dark:bg-zinc-900/95 border border-zinc-200 dark:border-zinc-700 rounded-2xl shadow-2xl max-w-lg w-full p-8 text-center flex flex-col items-center",children:[h.jsx("div",{className:"bg-brand-500/20 p-4 rounded-full mb-6",children:h.jsx(fg,{className:"w-12 h-12 text-brand-600 dark:text-brand-400"})}),h.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-4",children:"Paid API Key Required"}),h.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300 mb-6",children:["This application uses premium AI models.",h.jsx("br",{}),"You must select a ",h.jsx("strong",{children:"Paid Google Cloud Project"})," API key to proceed."]}),h.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400 mb-8 text-sm",children:["Free tier keys will not work. For more information, see"," ",h.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 dark:text-brand-400 hover:underline font-medium",children:"Billing Documentation"}),"."]}),h.jsx("button",{onClick:n,className:"w-full px-6 py-3 bg-brand-500 hover:bg-brand-400 text-black font-semibold rounded-lg transition-colors text-lg shadow-lg shadow-brand-500/20",children:"Select Paid API Key"})]})}),Fd=({current:n,onChange:e})=>h.jsxs("div",{className:"flex items-center gap-1 bg-zinc-100 dark:bg-zinc-800 p-1 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[h.jsx("button",{onClick:()=>e("light"),className:`p-1.5 rounded-md transition-all ${n==="light"?"bg-white dark:bg-zinc-700 shadow text-brand-600 dark:text-brand-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,title:"Light Mode",children:h.jsx(Tg,{size:14})}),h.jsx("button",{onClick:()=>e("system"),className:`p-1.5 rounded-md transition-all ${n==="system"?"bg-white dark:bg-zinc-700 shadow text-brand-600 dark:text-brand-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,title:"System Preference",children:h.jsx(gg,{size:14})}),h.jsx("button",{onClick:()=>e("dark"),className:`p-1.5 rounded-md transition-all ${n==="dark"?"bg-white dark:bg-zinc-700 shadow text-brand-600 dark:text-brand-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,title:"Dark Mode",children:h.jsx(yg,{size:14})})]}),oC=({onComplete:n})=>{const[e,t]=q.useState("enter");return q.useEffect(()=>{const r=[{t:100,fn:()=>t("enter")},{t:1800,fn:()=>t("wait")},{t:2400,fn:()=>t("spray")},{t:4e3,fn:()=>t("admire")},{t:5e3,fn:()=>t("exit")},{t:5600,fn:()=>t("prism")},{t:7800,fn:()=>t("explode")},{t:8500,fn:()=>n()}].map(i=>setTimeout(i.fn,i.t));return()=>r.forEach(clearTimeout)},[n]),h.jsxs("div",{className:`fixed inset-0 z-[100] bg-zinc-50 dark:bg-black flex items-center justify-center overflow-hidden font-sans select-none
      ${e==="explode"?"animate-[fadeOut_1s_ease-out_forwards] pointer-events-none":""}
    `,children:[h.jsx("div",{className:`absolute inset-0 bg-brand-500 pointer-events-none z-50 transition-opacity duration-300 ease-out ${e==="explode"?"opacity-100":"opacity-0"}`}),h.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(var(--grid-color)_1px,transparent_1px),linear-gradient(90deg,var(--grid-color)_1px,transparent_1px)] bg-[size:60px_60px] [mask-image:radial-gradient(ellipse_at_center,black_30%,transparent_80%)]"}),h.jsxs("div",{className:"relative w-full max-w-4xl h-96 flex items-center justify-center scale-[0.6] md:scale-100",children:[e!=="prism"&&e!=="explode"&&h.jsxs("div",{className:`relative z-10 flex flex-col items-center transition-transform will-change-transform
             ${e==="enter"?"animate-[hopIn_1.6s_cubic-bezier(0.34,1.56,0.64,1)_forwards]":""}
             ${e==="exit"?"animate-[anticipateSprint_0.8s_ease-in_forwards]":""}
          `,children:[h.jsxs("div",{className:`w-32 h-36 bg-white dark:bg-zinc-100 rounded-xl relative overflow-hidden shadow-2xl transition-all duration-300 border-4
                ${e==="spray"||e==="admire"||e==="exit"?"border-brand-500 shadow-[0_0_40px_rgba(255,213,0,0.5)]":"border-zinc-300"}
             `,children:[h.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-8 h-full bg-zinc-200/50 border-x border-zinc-300/50 transition-opacity duration-200 ${e==="spray"||e==="admire"||e==="exit"?"opacity-0":"opacity-100"}`}),h.jsxs("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 w-20 h-10 bg-zinc-800 rounded-md flex items-center justify-center gap-4 overflow-hidden border border-zinc-700 shadow-inner z-20",children:[h.jsx("div",{className:`w-2 h-2 bg-brand-400 rounded-full transition-all duration-300 ${e==="spray"?"scale-y-10 bg-white":"animate-pulse"}`}),h.jsx("div",{className:`w-2 h-2 bg-brand-400 rounded-full transition-all duration-300 ${e==="spray"?"scale-y-10 bg-white":"animate-pulse"}`})]}),h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-brand-400 via-brand-500 to-yellow-600 transition-opacity duration-500 ${e==="spray"||e==="admire"||e==="exit"?"opacity-100":"opacity-0"}`}),h.jsx("div",{className:`absolute inset-0 bg-white mix-blend-overlay pointer-events-none ${e==="spray"?"animate-[flash_0.2s_ease-out]":"opacity-0"}`}),h.jsx("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 transition-all duration-500 transform z-20
                   ${e==="spray"||e==="admire"||e==="exit"?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-50 translate-y-4"}
                `,children:h.jsx("div",{className:"w-10 h-10 bg-white text-brand-600 rounded flex items-center justify-center shadow-lg",children:h.jsx(zs,{size:24,strokeWidth:3})})})]}),h.jsxs("div",{className:"flex gap-10 -mt-1 z-0",children:[h.jsx("div",{className:`w-3 h-8 bg-zinc-800 dark:bg-zinc-800 rounded-b-full origin-top ${e==="enter"?"animate-[legMove_0.2s_infinite_alternate]":""} ${e==="exit"?"animate-[legMove_0.1s_infinite_alternate]":""}`}),h.jsx("div",{className:`w-3 h-8 bg-zinc-800 dark:bg-zinc-800 rounded-b-full origin-top ${e==="enter"?"animate-[legMove_0.2s_infinite_alternate-reverse]":""} ${e==="exit"?"animate-[legMove_0.1s_infinite_alternate-reverse]":""}`})]})]}),e==="spray"&&h.jsx("div",{className:"absolute z-20 animate-[swoopIn_0.4s_cubic-bezier(0.17,0.67,0.83,0.67)_forwards]",style:{right:"22%",top:"5%"},children:h.jsxs("div",{className:"relative animate-[shake_0.15s_infinite]",children:[h.jsx(Eg,{size:80,className:"text-zinc-400 dark:text-zinc-300 fill-zinc-800 rotate-[-15deg] drop-shadow-2xl"}),h.jsx("div",{className:"absolute top-0 -left-4 w-6 h-6 bg-brand-200 rounded-full blur-md animate-ping"}),h.jsx("div",{className:"absolute top-4 -left-8 w-40 h-40 pointer-events-none overflow-visible",children:[...Array(20)].map((o,r)=>h.jsx("div",{className:"absolute w-2 h-2 bg-brand-500 rounded-full animate-[sprayParticle_0.4s_linear_forwards]",style:{top:Math.random()*20,left:0,animationDelay:`${Math.random()*.3}s`}},r))})]})}),(e==="prism"||e==="explode")&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-8",children:[h.jsx("div",{className:"relative w-32 h-32 animate-[spinAppear_1.5s_cubic-bezier(0.34,1.56,0.64,1)_forwards]",children:h.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-[0_0_50px_rgba(255,213,0,0.5)]",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"prismStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#FFD500"}),h.jsx("stop",{offset:"100%",stopColor:"#FF6600"})]})}),h.jsx("path",{d:"M50 10 L90 85 L10 85 Z",fill:"none",stroke:"url(#prismStroke)",strokeWidth:"4",strokeLinejoin:"round",className:"animate-[drawStroke_1s_ease-out_forwards]"}),h.jsx("path",{d:"M50 10 L50 85 M50 50 L90 85 M50 50 L10 85",stroke:"url(#prismStroke)",strokeWidth:"1.5",className:"opacity-40"})]})}),h.jsxs("div",{className:"text-center animate-[popIn_0.8s_cubic-bezier(0.17,0.67,0.83,0.67)_0.5s_forwards] opacity-0",children:[h.jsx("h1",{className:"text-5xl font-black text-zinc-900 dark:text-white tracking-tighter mb-2",children:"SKU FOUNDRY"}),h.jsx("p",{className:"text-sm text-brand-600 dark:text-brand-400 font-mono tracking-[0.3em] uppercase",children:"AI Product Visualization"})]})]})]})]})},tn=({icon:n,label:e,active:t,onClick:o,number:r})=>h.jsxs("button",{onClick:o,className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 group
      ${t?"bg-brand-500/10 text-brand-700 dark:text-brand-400 border-l-2 border-brand-500":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-900 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:[h.jsx("span",{className:`${t?"text-brand-600 dark:text-brand-400":"text-zinc-400 dark:text-zinc-600 group-hover:text-zinc-500 dark:group-hover:text-zinc-400"} transition-colors`,children:n}),h.jsx("span",{className:"font-medium text-sm tracking-wide flex-1 text-left",children:e}),r&&h.jsx("span",{className:`text-xs font-bold font-mono px-1.5 py-0.5 rounded min-w-[1.5rem] text-center transition-colors 
        ${t?"bg-brand-500 text-black":"bg-zinc-200 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-500"}`,children:r})]}),rC=({currentView:n,onViewChange:e})=>{const t=[{id:"assets",label:"Upload Assets",number:1},{id:"studio",label:"Design Mockup",number:2},{id:"gallery",label:"Download Result",number:3}],r=["assets","studio","gallery"].indexOf(n),i=Math.max(0,r/(t.length-1)*100);return h.jsx("div",{className:"w-full max-w-2xl mx-auto mb-12 hidden md:block animate-fade-in px-4",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-zinc-200 dark:bg-zinc-800 -translate-y-1/2 rounded-full"}),h.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-gradient-to-r from-brand-500 to-yellow-600 -translate-y-1/2 rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}}),h.jsx("div",{className:"relative flex justify-between w-full",children:t.map((l,u)=>{const d=r>u,c=r===u;return h.jsxs("button",{onClick:()=>e(l.id),className:"group flex flex-col items-center focus:outline-none relative z-10 cursor-pointer",children:[h.jsx("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center border-[3px] transition-all duration-300
                        ${c?"border-brand-500 text-black bg-white dark:bg-zinc-950 shadow-[0_0_20px_rgba(255,213,0,0.5)] scale-110":d?"border-brand-600 bg-brand-500 text-black":"border-zinc-300 dark:border-zinc-800 bg-zinc-100 dark:bg-zinc-950 text-zinc-400 group-hover:border-zinc-400 dark:group-hover:border-zinc-600"}
                     `,children:d?h.jsx(cg,{size:18,strokeWidth:3}):h.jsx("span",{className:"text-sm font-bold font-mono",children:l.number})}),h.jsx("span",{className:`
                        absolute top-14 text-xs font-medium tracking-wider transition-all duration-300 whitespace-nowrap
                        ${c?"text-brand-600 dark:text-brand-400 opacity-100 transform translate-y-0":d?"text-zinc-500 dark:text-zinc-400 opacity-80":"text-zinc-400 dark:text-zinc-600 opacity-60 group-hover:opacity-100"}
                     `,children:l.label})]},l.id)})})]})})},zd=({title:n,icon:e,type:t,assets:o,onAdd:r,onRemove:i,validateApiKey:l,onApiError:u})=>{const[d,c]=q.useState("upload"),[f,m]=q.useState(""),[p,y]=q.useState(!1),T=async()=>{if(f&&await l()){y(!0);try{const E=await jT(f,t);r({id:Math.random().toString(36).substring(7),type:t,name:`AI Generated ${t}`,data:E,mimeType:"image/png"}),m("")}catch(E){console.error(E),u(E)}finally{y(!1)}}};return h.jsxs("div",{className:"glass-panel p-6 rounded-2xl h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-zinc-900 dark:text-white",children:[e," ",n]}),h.jsxs("span",{className:"text-xs bg-zinc-200 dark:bg-zinc-800 px-2 py-1 rounded text-zinc-600 dark:text-zinc-400",children:[o.length," items"]})]}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6 overflow-y-auto max-h-[400px] pr-2",children:[o.map(E=>h.jsxs("div",{className:"relative group aspect-square bg-zinc-100 dark:bg-zinc-900 rounded-lg overflow-hidden border border-zinc-200 dark:border-zinc-700",children:[h.jsx("img",{src:E.data,className:"w-full h-full object-contain p-2",alt:E.name}),h.jsx("button",{onClick:()=>i(E.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Cg,{size:12})})]},E.id)),o.length===0&&h.jsx("div",{className:"col-span-2 sm:col-span-3 flex flex-col items-center justify-center h-32 text-zinc-400 dark:text-zinc-600 border border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg",children:h.jsxs("p",{className:"text-sm",children:["No ",t,"s yet"]})})]}),h.jsxs("div",{className:"mt-auto pt-4 border-t border-zinc-200 dark:border-zinc-800",children:[h.jsxs("div",{className:"flex gap-4 mb-4",children:[h.jsx("button",{onClick:()=>c("upload"),className:`text-sm font-medium pb-1 border-b-2 transition-colors ${d==="upload"?"border-brand-500 text-brand-700 dark:text-white":"border-transparent text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Upload"}),h.jsx("button",{onClick:()=>c("generate"),className:`text-sm font-medium pb-1 border-b-2 transition-colors ${d==="generate"?"border-brand-500 text-brand-700 dark:text-white":"border-transparent text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Generate with AI"})]}),d==="upload"?h.jsx(Vs,{label:`Upload ${t}`,onFileSelect:E=>{const k=new FileReader;k.onload=v=>{var g;r({id:Math.random().toString(36).substring(7),type:t,name:E.name,data:(g=v.target)==null?void 0:g.result,mimeType:E.type})},k.readAsDataURL(E)}}):h.jsxs("div",{className:"space-y-3",children:[h.jsx("textarea",{value:f,onChange:E=>m(E.target.value),placeholder:`Describe the ${t} you want to create...`,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg p-3 text-base text-zinc-900 dark:text-white focus:ring-2 focus:ring-brand-500 resize-none h-24 placeholder:text-zinc-400"}),h.jsxs(Ke,{onClick:T,isLoading:p,disabled:!f,className:"w-full",icon:h.jsx(Zf,{size:16}),children:["Generate ",t]})]})]})]})};function iC(){var Kn;const[n,e]=q.useState("light"),t="george@socialab.gr";q.useEffect(()=>{const S=window.document.documentElement;n==="dark"||n==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?S.classList.add("dark"):S.classList.remove("dark")},[n]);const[o,r]=q.useState(!0),[i,l]=q.useState("dashboard"),[u,d]=q.useState([]),[c,f]=q.useState([]),[m,p]=q.useState(!1),[y,T]=q.useState(null),[E,k]=q.useState(null),[v,g]=q.useState([]),[_,C]=q.useState(""),[w,I]=q.useState({isGenerating:!1,message:""}),[x,N]=q.useState({projectName:"",instructions:"",count:1,ratio:"1:1",productPhotos:[],referencePhotos:[]}),[R,M]=q.useState(!1),{showApiKeyDialog:$,setShowApiKeyDialog:W,validateApiKey:ie,handleApiKeyDialogContinue:bn}=nC(),an=S=>{const L=S instanceof Error?S.message:String(S);let V=!1;L.includes("Requested entity was not found")?(console.warn("Model not found - likely a billing/key issue"),V=!0):(L.includes("API_KEY_INVALID")||L.includes("API key not valid")||L.includes("PERMISSION_DENIED")||L.includes("403"))&&(console.warn("Invalid API Key or Permissions"),V=!0),V?W(!0):alert(`Operation failed: ${L}`)},he=q.useRef(null),[ae,D]=q.useState(null);q.useEffect(()=>{const S=setTimeout(()=>{r(!1)},9e3);return()=>clearTimeout(S)},[]);const F=async()=>{if(!x.projectName||!x.instructions){alert("Please complete the project details.");return}if(x.productPhotos.length===0){alert("Please upload at least one product photo.");return}if(await ie()){M(!0),I({isGenerating:!0,message:`Starting photoshoot for ${x.projectName}...`});try{for(let S=0;S<x.count;S++){I({isGenerating:!0,message:`Capturing shot ${S+1} of ${x.count}...`});const L=await eC(x.productPhotos,x.referencePhotos,x.instructions,x.ratio),V={id:Math.random().toString(36).substring(7),imageUrl:L,prompt:`Photoshoot: ${x.projectName} - ${x.instructions.substring(0,50)}...`,createdAt:Date.now(),layers:[]};f(H=>[V,...H])}l("gallery")}catch(S){console.error(S),an(S)}finally{M(!1),I({isGenerating:!1,message:""})}}},z=S=>{const L={uid:Math.random().toString(36).substr(2,9),assetId:S,x:50,y:50,scale:1,rotation:0};g(V=>[...V,L])},X=(S,L)=>{L==null||L.stopPropagation(),g(V=>V.filter(H=>H.uid!==S))},se=(S,L,V)=>{D({uid:V.uid,startX:S,startY:L,initX:V.x,initY:V.y})},dt=(S,L)=>{S.preventDefault(),S.stopPropagation(),se(S.clientX,S.clientY,L)},un=(S,L)=>{S.stopPropagation();const V=S.touches[0];se(V.clientX,V.clientY,L)},Yt=(S,L)=>{S.stopPropagation();const V=S.deltaY>0?-.1:.1;g(H=>H.map(oe=>{if(oe.uid!==L)return oe;const ue=Math.max(.2,Math.min(3,oe.scale+V));return{...oe,scale:ue}}))};q.useEffect(()=>{const S=(ue,kp)=>{if(!ae||!he.current)return;const Zl=he.current.getBoundingClientRect(),Np=ue-ae.startX,Pp=kp-ae.startY,Rp=Np/Zl.width*100,Mp=Pp/Zl.height*100;g(Dp=>Dp.map(hi=>hi.uid!==ae.uid?hi:{...hi,x:Math.max(0,Math.min(100,ae.initX+Rp)),y:Math.max(0,Math.min(100,ae.initY+Mp))}))},L=ue=>{S(ue.clientX,ue.clientY)},V=()=>{D(null)},H=ue=>{ae&&(ue.preventDefault(),S(ue.touches[0].clientX,ue.touches[0].clientY))},oe=()=>{D(null)};return ae&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",V),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",oe)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",V),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",oe)}},[ae]);const dn=async()=>{if(!E&&v.length===0)return;const S=u.find(H=>H.id===E);if(!S){alert("Selected product not found. Please select a product."),k(null);return}const L=v.map(H=>{const oe=u.find(ue=>ue.id===H.assetId);return oe?{asset:oe,placement:H}:null}).filter(Boolean);if(L.length===0){alert("No valid logos found on canvas. Please add a logo.");return}if(!await ie())return;const V=_;I({isGenerating:!0,message:"Analyzing composite geometry..."});try{const H=await ZT(S,L,V),oe={id:Math.random().toString(36).substring(7),imageUrl:H,prompt:V,createdAt:Date.now(),layers:v,productId:E};f(ue=>[oe,...ue]),l("gallery")}catch(H){console.error(H),an(H)}finally{I({isGenerating:!1,message:""})}};return o?h.jsx(oC,{onComplete:()=>r(!1)}):h.jsxs("div",{className:"min-h-screen bg-zinc-50 dark:bg-black text-zinc-900 dark:text-zinc-100 font-sans flex overflow-hidden relative transition-colors duration-300",children:[$&&h.jsx(tC,{onContinue:bn}),h.jsxs("aside",{className:"w-64 border-r border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-950/50 hidden md:flex flex-col backdrop-blur-md",children:[h.jsxs("div",{className:"h-16 border-b border-zinc-200 dark:border-zinc-800 flex items-center px-6",children:[h.jsx(zs,{className:"text-brand-500 mr-2"}),h.jsx("span",{className:"font-bold text-lg tracking-tight",children:"SKU FOUNDRY"})]}),h.jsxs("div",{className:"p-4 space-y-2 flex-1",children:[h.jsxs("div",{className:"mb-6 px-2",children:[h.jsx("div",{className:"text-xs font-bold text-zinc-400 dark:text-zinc-600 uppercase tracking-wider mb-2 px-1",children:"Authenticated User"}),h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-50 dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-sm animate-pulse"}),h.jsx("span",{className:"text-xs font-mono font-medium text-zinc-700 dark:text-zinc-300 truncate w-full",title:t,children:t})]})]}),h.jsx(tn,{icon:h.jsx(uu,{size:18}),label:"Dashboard",active:i==="dashboard",onClick:()=>l("dashboard")}),h.jsx(tn,{icon:h.jsx(oo,{size:18}),label:"Photoshoot",active:i==="photoshoot",onClick:()=>l("photoshoot")}),h.jsx(tn,{icon:h.jsx(ir,{size:18}),label:"Assets",active:i==="assets",number:1,onClick:()=>l("assets")}),h.jsx(tn,{icon:h.jsx(sr,{size:18}),label:"Studio",active:i==="studio",number:2,onClick:()=>l("studio")}),h.jsx(tn,{icon:h.jsx($i,{size:18}),label:"Gallery",active:i==="gallery",number:3,onClick:()=>l("gallery")})]}),h.jsxs("div",{className:"p-4 border-t border-zinc-200 dark:border-zinc-800 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between px-2",children:[h.jsx("span",{className:"text-xs font-medium text-zinc-500",children:"Appearance"}),h.jsx(Fd,{current:n,onChange:e})]}),h.jsx("div",{className:"p-4 rounded-lg bg-zinc-100 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 text-center",children:h.jsx(Ke,{size:"sm",variant:"outline",className:"w-full text-xs",children:"Documentation"})})]})]}),h.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-white dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between px-4 z-50",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(zs,{className:"text-brand-500 mr-2"}),h.jsx("span",{className:"font-bold text-lg",children:"SKU FOUNDRY"})]}),h.jsx("button",{onClick:()=>p(!m),className:"p-2 text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white",children:m?h.jsx(ft,{}):h.jsx(hg,{})})]}),m&&h.jsxs("div",{className:"md:hidden fixed inset-0 top-16 z-40 bg-white/95 dark:bg-black/95 backdrop-blur-xl p-4 animate-fade-in flex flex-col",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(tn,{icon:h.jsx(uu,{size:18}),label:"Dashboard",active:i==="dashboard",onClick:()=>{l("dashboard"),p(!1)}}),h.jsx(tn,{icon:h.jsx(oo,{size:18}),label:"Photoshoot",active:i==="photoshoot",onClick:()=>{l("photoshoot"),p(!1)}}),h.jsx(tn,{icon:h.jsx(ir,{size:18}),label:"Assets",active:i==="assets",number:1,onClick:()=>{l("assets"),p(!1)}}),h.jsx(tn,{icon:h.jsx(sr,{size:18}),label:"Studio",active:i==="studio",number:2,onClick:()=>{l("studio"),p(!1)}}),h.jsx(tn,{icon:h.jsx($i,{size:18}),label:"Gallery",active:i==="gallery",number:3,onClick:()=>{l("gallery"),p(!1)}})]}),h.jsxs("div",{className:"mt-auto pb-8 border-t border-zinc-200 dark:border-zinc-800 pt-6",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(Fd,{current:n,onChange:e})}),h.jsx("p",{className:"text-xs text-zinc-500 text-center mb-4",children:"SKU FOUNDRY Mobile v1.0"})]})]}),y&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-zinc-950/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",onClick:()=>T(null),children:h.jsxs("div",{className:"relative max-w-6xl w-full h-full flex flex-col items-center justify-center",onClick:S=>S.stopPropagation(),children:[h.jsx("button",{onClick:()=>T(null),className:"absolute top-4 right-4 md:top-0 md:-right-12 p-2 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors z-50 border border-zinc-200 dark:border-zinc-700",children:h.jsx(ft,{size:24})}),h.jsx("div",{className:"relative w-full flex-1 flex items-center justify-center overflow-hidden rounded-lg",children:h.jsx("img",{src:y.imageUrl,alt:"Full size preview",className:"max-w-full max-h-[85vh] object-contain shadow-2xl"})}),h.jsxs("div",{className:"mt-4 bg-white/90 dark:bg-zinc-900/90 backdrop-blur border border-zinc-200 dark:border-zinc-700 px-6 py-3 rounded-full flex items-center gap-4",children:[h.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-300 max-w-[200px] md:max-w-md truncate",children:y.prompt||"Generated Mockup"}),h.jsx("div",{className:"h-4 w-px bg-zinc-300 dark:bg-zinc-700"}),h.jsxs("a",{href:y.imageUrl,download:`mockup-${y.id}.png`,className:"text-brand-600 dark:text-brand-400 hover:text-brand-500 text-sm font-medium flex items-center gap-2",children:[h.jsx(Bi,{size:16}),"Download"]})]})]})}),h.jsxs("main",{className:"flex-1 overflow-y-auto relative pt-16 md:pt-0",children:[h.jsxs("div",{className:"sticky top-0 z-40 h-16 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between px-8",children:[h.jsxs("div",{className:"text-sm text-zinc-500 dark:text-zinc-400 breadcrumbs",children:[h.jsx("span",{className:"opacity-50",children:"App"}),h.jsx("span",{className:"mx-2",children:"/"}),h.jsx("span",{className:"text-zinc-900 dark:text-white capitalize",children:i})]}),h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Ke,{size:"sm",variant:"ghost",icon:h.jsx(Zf,{size:16}),children:"Credits: "})})]}),h.jsxs("div",{className:"max-w-6xl mx-auto p-6 md:p-12",children:[i==="dashboard"&&h.jsxs("div",{className:"animate-fade-in space-y-8",children:[h.jsxs("div",{className:"text-center py-12",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-6 text-zinc-900 dark:text-white",children:["AI-enabled dashboard ",h.jsx("br",{}),h.jsx("span",{className:"hero-gradient",children:"for today's marketer."})]}),h.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-lg max-w-2xl mx-auto mb-10",children:"Upload your logos and products, and let our AI composite them perfectly with realistic lighting, shadows, and warping."}),h.jsx(Ke,{size:"lg",onClick:()=>l("assets"),icon:h.jsx(au,{size:20}),children:"Start Creating"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:h.jsx(ir,{className:"text-brand-600 dark:text-brand-400"}),title:"Asset Management",desc:"Organize logos and product bases."},{icon:h.jsx(sr,{className:"text-zinc-600 dark:text-zinc-400"}),title:"AI Compositing",desc:"Smart blending and surface mapping."},{icon:h.jsx(Bi,{className:"text-zinc-600 dark:text-zinc-400"}),title:"High-Res Export",desc:"Production-ready visuals."},{icon:h.jsx(oo,{className:"text-zinc-600 dark:text-zinc-400"}),title:"Product Photography",desc:"Generate professional product shots.",action:()=>l("photoshoot")}].map((S,L)=>h.jsxs("div",{onClick:S.action,className:`p-6 rounded-2xl bg-white/50 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 hover:border-brand-500/30 transition-colors ${S.action?"cursor-pointer hover:bg-white/80 dark:hover:bg-zinc-900/80":""}`,children:[h.jsx("div",{className:"mb-4 p-3 bg-zinc-100 dark:bg-zinc-900 w-fit rounded-lg",children:S.icon}),h.jsx("h3",{className:"text-xl font-bold mb-2 text-zinc-900 dark:text-white",children:S.title}),h.jsx("p",{className:"text-zinc-500 dark:text-zinc-500",children:S.desc})]},L))}),h.jsx("footer",{className:"mt-20 pt-8 border-t border-zinc-200 dark:border-zinc-900 text-center",children:h.jsxs("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm max-w-2xl mx-auto leading-relaxed",children:['"By using this app, you confirm that you have the necessary rights to any content that you upload. Do not generate content that infringes on others intellectual property or privacy rights. Your use of this generative AI service is subject to our Prohibited Use Policy.',h.jsx("br",{className:"hidden md:block"}),'Please note that uploads from Google Workspace may be used to develop and improve Google products and services in accordance with our terms."']})})]}),i==="photoshoot"&&h.jsxs("div",{className:"animate-fade-in max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[h.jsx(oo,{className:"text-brand-500"}),"Product Style Photography"]}),h.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Generate high-end product photography using AI references."})]}),h.jsxs("div",{className:"glass-panel p-8 rounded-2xl space-y-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Project Name"}),h.jsx("input",{type:"text",value:x.projectName,onChange:S=>N(L=>({...L,projectName:S.target.value})),className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg p-3 text-zinc-900 dark:text-white focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"e.g. Summer Campaign 2024"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Product Photos (Max 6)"}),h.jsxs("span",{className:"text-xs text-zinc-500",children:[x.productPhotos.length,"/6"]})]}),h.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:[x.productPhotos.map((S,L)=>h.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-zinc-200 dark:border-zinc-700 group",children:[h.jsx("img",{src:S.data,className:"w-full h-full object-cover",alt:"product"}),h.jsx("button",{onClick:()=>N(V=>({...V,productPhotos:V.productPhotos.filter((H,oe)=>oe!==L)})),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ft,{size:12})})]},L)),x.productPhotos.length<6&&h.jsx("div",{className:"aspect-square",children:h.jsx(Vs,{label:"Add",onFileSelect:S=>{const L=new FileReader;L.onload=V=>{var oe;const H={id:Math.random().toString(),type:"product",name:S.name,data:(oe=V.target)==null?void 0:oe.result,mimeType:S.type};N(ue=>({...ue,productPhotos:[...ue.productPhotos,H]}))},L.readAsDataURL(S)}})})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Reference Photos (Max 6)"}),h.jsxs("span",{className:"text-xs text-zinc-500",children:[x.referencePhotos.length,"/6"]})]}),h.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:[x.referencePhotos.map((S,L)=>h.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-zinc-200 dark:border-zinc-700 group",children:[h.jsx("img",{src:S.data,className:"w-full h-full object-cover",alt:"reference"}),h.jsx("button",{onClick:()=>N(V=>({...V,referencePhotos:V.referencePhotos.filter((H,oe)=>oe!==L)})),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ft,{size:12})})]},L)),x.referencePhotos.length<6&&h.jsx("div",{className:"aspect-square",children:h.jsx(Vs,{label:"Add",onFileSelect:S=>{const L=new FileReader;L.onload=V=>{var oe;const H={id:Math.random().toString(),type:"reference",name:S.name,data:(oe=V.target)==null?void 0:oe.result,mimeType:S.type};N(ue=>({...ue,referencePhotos:[...ue.referencePhotos,H]}))},L.readAsDataURL(S)}})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"How many shots?"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6,7,8,9].map(S=>h.jsx("button",{onClick:()=>N(L=>({...L,count:S})),className:`w-10 h-10 rounded-lg font-medium transition-colors border ${x.count===S?"bg-brand-500 text-black border-brand-500":"bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:S},S))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Aspect Ratio"}),h.jsx("div",{className:"flex gap-2",children:["1:1","16:9","9:16"].map(S=>h.jsx("button",{onClick:()=>N(L=>({...L,ratio:S})),className:`flex-1 py-2 rounded-lg font-medium transition-colors border ${x.ratio===S?"bg-brand-500 text-black border-brand-500":"bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:S},S))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Instructions"}),h.jsx("textarea",{value:x.instructions,onChange:S=>N(L=>({...L,instructions:S.target.value})),className:"w-full h-32 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg p-3 text-zinc-900 dark:text-white focus:ring-2 focus:ring-brand-500 outline-none resize-none",placeholder:"Describe the desired outcome, lighting, environment..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Your Email"}),h.jsx("input",{type:"email",value:t,readOnly:!0,className:"w-full bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg p-3 text-zinc-500 cursor-not-allowed"})]}),h.jsx(Ke,{onClick:F,disabled:R,isLoading:R,size:"lg",className:"w-full",icon:h.jsx(oo,{size:20}),children:"Start Photoshoot"})]})]}),i==="assets"&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsx(rC,{currentView:"assets",onViewChange:l}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsx(zd,{title:"Products",icon:h.jsx(ir,{size:20}),type:"product",assets:u.filter(S=>S.type==="product"),onAdd:S=>d(L=>[...L,S]),onRemove:S=>d(L=>L.filter(V=>V.id!==S)),validateApiKey:ie,onApiError:an}),h.jsx(zd,{title:"Logos & Graphics",icon:h.jsx(pg,{size:20}),type:"logo",assets:u.filter(S=>S.type==="logo"),onAdd:S=>d(L=>[...L,S]),onRemove:S=>d(L=>L.filter(V=>V.id!==S)),validateApiKey:ie,onApiError:an})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(Ke,{onClick:()=>l("studio"),disabled:u.length<2,icon:h.jsx(au,{size:16}),children:"Continue to Studio"})})]}),i==="studio"&&h.jsxs("div",{className:"animate-fade-in h-[calc(100vh-8rem)] md:h-[calc(100vh-12rem)] flex flex-col-reverse lg:flex-row gap-4 lg:gap-6",children:[h.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6 glass-panel p-6 rounded-2xl overflow-y-auto flex-1 lg:flex-none",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-300 uppercase tracking-wider mb-4",children:"1. Select Product"}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.filter(S=>S.type==="product").map(S=>h.jsx("div",{onClick:()=>k(E===S.id?null:S.id),className:`aspect-square rounded-lg border-2 cursor-pointer p-1 transition-all ${E===S.id?"border-brand-500 bg-brand-500/20":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-400 dark:hover:border-zinc-500 bg-zinc-100 dark:bg-zinc-900"}`,children:h.jsx("img",{src:S.data,className:"w-full h-full object-contain",alt:S.name})},S.id)),u.filter(S=>S.type==="product").length===0&&h.jsx("p",{className:"text-xs text-zinc-400 col-span-3",children:"No products uploaded"})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-300 uppercase tracking-wider",children:"2. Add Logos"}),v.length>0&&h.jsxs("span",{className:"text-xs text-brand-600 dark:text-brand-400",children:[v.length," on canvas"]})]}),h.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-2",children:"Click to add. Drag on canvas to move. Scroll to resize."}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.filter(S=>S.type==="logo").map(S=>h.jsxs("div",{onClick:()=>z(S.id),className:"relative aspect-square rounded-lg border-2 cursor-pointer p-1 transition-all border-zinc-200 dark:border-zinc-700 hover:border-zinc-400 dark:hover:border-zinc-500 bg-zinc-100 dark:bg-zinc-900",children:[h.jsx("img",{src:S.data,className:"w-full h-full object-contain",alt:S.name}),v.filter(L=>L.assetId===S.id).length>0&&h.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-brand-500 rounded-full flex items-center justify-center text-[10px] font-bold text-black border border-white dark:border-zinc-900",children:v.filter(L=>L.assetId===S.id).length})]},S.id)),u.filter(S=>S.type==="logo").length===0&&h.jsx("p",{className:"text-xs text-zinc-400 col-span-3",children:"No logos uploaded"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-300 uppercase tracking-wider mb-4",children:"3. Instructions"}),h.jsx("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg p-3 text-base text-zinc-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:outline-none resize-none h-24",placeholder:"E.g. Embed the logos into the fabric texture...",value:_,onChange:S=>C(S.target.value)})]}),h.jsx(Ke,{onClick:dn,isLoading:w.isGenerating,disabled:!E||v.length===0,size:"lg",className:"mt-auto",icon:h.jsx(sr,{size:18}),children:"Generate Mockup"})]}),h.jsxs("div",{className:"h-[45vh] lg:h-auto lg:flex-1 glass-panel rounded-2xl flex items-center justify-center bg-zinc-100 dark:bg-zinc-900 relative overflow-hidden select-none flex-shrink-0",children:[w.isGenerating&&h.jsxs("div",{className:"absolute inset-0 z-20 bg-white/80 dark:bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-brand-500 border-t-transparent rounded-full animate-spin mb-4"}),h.jsx("p",{className:"text-brand-600 dark:text-brand-400 font-mono animate-pulse",children:w.message})]}),E?h.jsxs("div",{ref:he,className:"relative w-full h-full max-h-[600px] p-4",children:[h.jsx("img",{src:(Kn=u.find(S=>S.id===E))==null?void 0:Kn.data,className:"w-full h-full object-contain drop-shadow-2xl pointer-events-none select-none",alt:"Preview",draggable:!1}),v.map(S=>{const L=u.find(H=>H.id===S.assetId);if(!L)return null;const V=(ae==null?void 0:ae.uid)===S.uid;return h.jsxs("div",{className:`absolute cursor-move group ${V?"z-50 opacity-80":"z-10"}`,style:{left:`${S.x}%`,top:`${S.y}%`,transform:`translate(-50%, -50%) scale(${S.scale}) rotate(${S.rotation}deg)`,width:"15%",aspectRatio:"1/1"},onMouseDown:H=>dt(H,S),onTouchStart:H=>un(H,S),onWheel:H=>Yt(H,S.uid),children:[h.jsx("div",{className:"absolute -inset-2 border-2 border-brand-500/0 group-hover:border-brand-500/50 rounded-lg transition-all pointer-events-none"}),h.jsx("button",{onClick:H=>X(S.uid,H),onTouchEnd:H=>X(S.uid,H),className:"absolute -top-4 -right-4 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:scale-110 shadow-lg z-50",title:"Remove",children:h.jsx(ft,{size:12})}),h.jsx("img",{src:L.data,className:"w-full h-full object-contain drop-shadow-lg pointer-events-none",draggable:!1,alt:"layer"})]},S.uid)})]}):h.jsxs("div",{className:"text-center text-zinc-400 dark:text-zinc-600",children:[h.jsx(_g,{size:64,className:"mx-auto mb-4 opacity-20"}),h.jsx("p",{children:"Select a product to start designing"})]})]})]}),i==="gallery"&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"Generated Mockups"}),h.jsx(Ke,{variant:"outline",onClick:()=>l("studio"),icon:h.jsx(vg,{size:16}),children:"New Mockup"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.map(S=>h.jsxs("div",{className:"group glass-panel rounded-xl overflow-hidden shadow-sm",children:[h.jsxs("div",{className:"aspect-square bg-zinc-100 dark:bg-zinc-900 relative overflow-hidden",children:[h.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:"Mockup"}),h.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[h.jsx(Ke,{size:"sm",variant:"secondary",icon:h.jsx(mg,{size:16}),onClick:()=>T(S),children:"View"}),h.jsx("a",{href:S.imageUrl,download:`mockup-${S.id}.png`,children:h.jsx(Ke,{size:"sm",variant:"primary",icon:h.jsx(Bi,{size:16}),children:"Save"})})]})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:new Date(S.createdAt).toLocaleDateString()}),h.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 line-clamp-2",children:S.prompt||"Auto-generated mockup"}),S.layers&&S.layers.length>0&&h.jsx("div",{className:"mt-2 flex gap-1",children:h.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-zinc-200 dark:bg-zinc-800 rounded text-zinc-600 dark:text-zinc-400",children:[S.layers.length," logos"]})})]})]},S.id)),c.length===0&&h.jsxs("div",{className:"col-span-full py-20 text-center glass-panel rounded-xl",children:[h.jsx($i,{size:48,className:"mx-auto mb-4 text-zinc-300 dark:text-zinc-700"}),h.jsx("h3",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-300",children:"No mockups yet"}),h.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 mb-6",children:"Create your first design in the Studio"}),h.jsx(Ke,{onClick:()=>l("studio"),children:"Go to Studio"})]})]})]})]})]})]})}const Ap=document.getElementById("root");if(!Ap)throw new Error("Could not find root element to mount to");const sC=Ji.createRoot(Ap);sC.render(h.jsx(Qp.StrictMode,{children:h.jsx(iC,{})}));
